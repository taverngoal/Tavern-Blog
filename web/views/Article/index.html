<div ng-controller="articleWrap" id="article_index">

    <div class="actionbar" layout="row" layout-align="space-between end" style="line-height: 28px">
        <div flex>
            <md-button aria-label="accessibility" ng-href="#/article/new"><i class="fa fa-plus" style="color:#00897b"></i>
            </md-button>
            <md-button aria-label="accessibility" ng-href="#/article/new"><i class="fa fa-list" style="color:#00897b"></i>
            </md-button>
            <md-button aria-label="accessibility" ng-href="#/article/new"><i class="fa fa-th-large" style="color:#00897b"></i>
            </md-button>
        </div>

        <ui-select flex="20" ng-model="selectedTag" on-select="TagSelect($select.selected)" theme="select2"
                   reset-search-input="true"
                   style="width: 400px; height: 28px;">
            <ui-select-match placeholder="标签" style="height: 28px">{{$select.selected.title}}</ui-select-match>
            <ui-select-choices repeat="tag in tags | filter: $select.search">
                {{tag.title}}
            </ui-select-choices>
        </ui-select>
    </div>
    <ul class="articles">
        <li ng-repeat="a in articles">
            <header>
                <span class="datetime">
                <span class="time">{{DateParse(a.created_at, "hh")}}:{{DateParse(a.created_at, "mm")}}</span>
                <span class="date">
                    <span class="month">{{DateParse(a.created_at, "MM")}}</span>
                    <span class="day">{{DateParse(a.created_at, "dd")}}</span>
                </span>
                </span>
                <a class="inherit" ng-href="#/article/{{a.id}}/view">{{a.title}}</a>
            </header>
            <article ng-bind-html="marked(a.content)"></article>
            <footer>
                <div class="tags"><a ng-repeat="tag in a.tags" ng-href="#/article/{{tag.title}}/index"><span
                        class="label label-tag">{{tag.title}}</span></a>
                </div>
                <div class="info">
                    <span><i class="fa fa-user fa-fw"></i> {{a.user.name||a.user.username||"匿名"}}</span> <span><i
                        class="fa fa-eye fa-fw"></i> {{a.views}}</span>
                </div>
            </footer>
        </li>
    </ul>
    <p bgf-pagination collection="articles" auto-presets="false" reload-page="reload" per-page="2" url="articleUrl"
       template-url="assets/paginate-anything.html"></p>
</div>