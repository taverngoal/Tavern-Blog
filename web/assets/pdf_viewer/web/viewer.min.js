"use strict";var DEFAULT_URL="compressed.tracemonkey-pldi-09.pdf";var DEFAULT_SCALE_DELTA=1.1;var MIN_SCALE=.25;var MAX_SCALE=10;var VIEW_HISTORY_MEMORY=20;var SCALE_SELECT_CONTAINER_PADDING=8;var SCALE_SELECT_PADDING=22;var PAGE_NUMBER_LOADING_INDICATOR="visiblePageIsLoading";var DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT=5e3;PDFJS.imageResourcesPath="./images/";PDFJS.workerSrc="../build/pdf.worker.min.js";PDFJS.cMapUrl="../web/cmaps/";PDFJS.cMapPacked=true;var mozL10n=document.mozL10n||document.webL10n;var CSS_UNITS=96/72;var DEFAULT_SCALE="auto";var UNKNOWN_SCALE=0;var MAX_AUTO_SCALE=1.25;var SCROLLBAR_PADDING=40;var VERTICAL_PADDING=5;var DEFAULT_CACHE_SIZE=10;var CustomStyle=function e(){var e=["ms","Moz","Webkit","O"];var t={};function i(){}i.getProp=function n(i,r){if(arguments.length===1&&typeof t[i]==="string"){return t[i]}r=r||document.documentElement;var a=r.style,s,o;if(typeof a[i]==="string"){return t[i]=i}o=i.charAt(0).toUpperCase()+i.slice(1);for(var l=0,d=e.length;l<d;l++){s=e[l]+o;if(typeof a[s]==="string"){return t[i]=s}}return t[i]="undefined"};i.setProp=function r(e,t,i){var n=this.getProp(e);if(n!=="undefined"){t.style[n]=i}};return i}();function getFileName(e){var t=e.indexOf("#");var i=e.indexOf("?");var n=Math.min(t>0?t:e.length,i>0?i:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)}function getOutputScale(e){var t=window.devicePixelRatio||1;var i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;var n=t/i;return{sx:n,sy:n,scaled:n!==1}}function scrollIntoView(e,t){var i=e.offsetParent;var n=e.offsetTop+e.clientTop;var r=e.offsetLeft+e.clientLeft;if(!i){console.error("offsetParent is not set -- cannot scroll");return}while(i.clientHeight===i.scrollHeight){if(i.dataset._scaleY){n/=i.dataset._scaleY;r/=i.dataset._scaleX}n+=i.offsetTop;r+=i.offsetLeft;i=i.offsetParent;if(!i){return}}if(t){if(t.top!==undefined){n+=t.top}if(t.left!==undefined){r+=t.left;i.scrollLeft=r}}i.scrollTop=n}function watchScroll(e,t){var i=function a(i){if(r){return}r=window.requestAnimationFrame(function a(){r=null;var i=e.scrollTop;var a=n.lastY;if(i>a){n.down=true}else if(i<a){n.down=false}n.lastY=i;t(n)})};var n={down:true,lastY:e.scrollTop,_eventHandler:i};var r=null;e.addEventListener("scroll",i,true);return n}function getVisibleElements(e,t,i){var n=e.scrollTop,r=n+e.clientHeight;var a=e.scrollLeft,s=a+e.clientWidth;var o=[],l;var d,c,h,u;var f,g;for(var p=0,m=t.length;p<m;++p){l=t[p];d=l.el.offsetTop+l.el.clientTop;c=l.el.clientHeight;if(d+c<n){continue}if(d>r){break}f=l.el.offsetLeft+l.el.clientLeft;g=l.el.clientWidth;if(f+g<a||f>s){continue}h=Math.max(0,n-d)+Math.max(0,d+c-r);u=(c-h)*100/c|0;o.push({id:l.id,x:f,y:d,view:l,percent:u})}var v=o[0];var w=o[o.length-1];if(i){o.sort(function(e,t){var i=e.percent-t.percent;if(Math.abs(i)>.001){return-i}return e.id-t.id})}return{first:v,last:w,views:o}}function noContextMenuHandler(e){e.preventDefault()}function getPDFFileNameFromURL(e){var t=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/;var i=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;var n=t.exec(e);var r=i.exec(n[1])||i.exec(n[2])||i.exec(n[3]);if(r){r=r[0];if(r.indexOf("%")!==-1){try{r=i.exec(decodeURIComponent(r))[0]}catch(a){}}}return r||"document.pdf"}var ProgressBar=function t(){function e(e,t,i){return Math.min(Math.max(e,t),i)}function t(e,t){this.visible=true;this.div=document.querySelector(e+" .progress");this.bar=this.div.parentNode;this.height=t.height||100;this.width=t.width||100;this.units=t.units||"%";this.div.style.height=this.height+this.units;this.percent=0}t.prototype={updateBar:function i(){if(this._indeterminate){this.div.classList.add("indeterminate");this.div.style.width=this.width+this.units;return}this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units},get percent(){return this._percent},set percent(t){this._indeterminate=isNaN(t);this._percent=e(t,0,100);this.updateBar()},setWidth:function n(e){if(e){var t=e.parentNode;var i=t.offsetWidth-e.offsetWidth;if(i>0){this.bar.setAttribute("style","width: calc(100% - "+i+"px);")}}},hide:function r(){if(!this.visible){return}this.visible=false;this.bar.classList.add("hidden");document.body.classList.remove("loadingInProgress")},show:function a(){if(this.visible){return}this.visible=true;document.body.classList.add("loadingInProgress");this.bar.classList.remove("hidden")}};return t}();var Cache=function i(e){var t=[];this.push=function i(n){var r=t.indexOf(n);if(r>=0){t.splice(r,1)}t.push(n);if(t.length>e){t.shift().destroy()}};this.resize=function(i){e=i;while(t.length>e){t.shift().destroy()}}};var DEFAULT_PREFERENCES={showPreviousViewOnLoad:true,defaultZoomValue:"",sidebarViewOnLoad:0,enableHandToolOnLoad:false,enableWebGL:false,pdfBugEnabled:false,disableRange:false,disableStream:false,disableAutoFetch:false,disableFontFace:false,disableTextLayer:false,useOnlyCssZoom:false};var SidebarView={NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3};var Preferences={prefs:Object.create(DEFAULT_PREFERENCES),isInitializedPromiseResolved:false,initializedPromise:null,initialize:function n(){return this.initializedPromise=this._readFromStorage(DEFAULT_PREFERENCES).then(function(e){this.isInitializedPromiseResolved=true;if(e){this.prefs=e}}.bind(this))},_writeToStorage:function r(e){return Promise.resolve()},_readFromStorage:function a(e){return Promise.resolve()},reset:function s(){return this.initializedPromise.then(function(){this.prefs=Object.create(DEFAULT_PREFERENCES);return this._writeToStorage(DEFAULT_PREFERENCES)}.bind(this))},reload:function o(){return this.initializedPromise.then(function(){this._readFromStorage(DEFAULT_PREFERENCES).then(function(e){if(e){this.prefs=e}}.bind(this))}.bind(this))},set:function l(e,t){return this.initializedPromise.then(function(){if(DEFAULT_PREFERENCES[e]===undefined){throw new Error("preferencesSet: '"+e+"' is undefined.")}else if(t===undefined){throw new Error("preferencesSet: no value is specified.")}var i=typeof t;var n=typeof DEFAULT_PREFERENCES[e];if(i!==n){if(i==="number"&&n==="string"){t=t.toString()}else{throw new Error("Preferences_set: '"+t+"' is a \""+i+'", expected "'+n+'".')}}else{if(i==="number"&&(t|0)!==t){throw new Error("Preferences_set: '"+t+'\' must be an "integer".')}}this.prefs[e]=t;return this._writeToStorage(this.prefs)}.bind(this))},get:function d(e){return this.initializedPromise.then(function(){var t=DEFAULT_PREFERENCES[e];if(t===undefined){throw new Error("preferencesGet: '"+e+"' is undefined.")}else{var i=this.prefs[e];if(i!==undefined){return i}}return t}.bind(this))}};Preferences._writeToStorage=function(e){return new Promise(function(t){localStorage.setItem("pdfjs.preferences",JSON.stringify(e));t()})};Preferences._readFromStorage=function(e){return new Promise(function(e){var t=JSON.parse(localStorage.getItem("pdfjs.preferences"));e(t)})};(function c(){if("mozPrintCallback"in document.createElement("canvas")){return}HTMLCanvasElement.prototype.mozPrintCallback=undefined;var e;var t;var i=window.print;window.print=function d(){if(e){console.warn("Ignored window.print() because of a pending print job.");return}try{n("beforeprint")}finally{e=document.querySelectorAll("canvas");t=-1;r()}};function n(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,false,false,"custom");window.dispatchEvent(t)}function r(){if(!e){return}s();if(++t<e.length){var n=e[t];if(typeof n.mozPrintCallback==="function"){n.mozPrintCallback({context:n.getContext("2d"),abort:a,done:r})}else{r()}}else{s();i.call(window);setTimeout(a,20)}}function a(){if(e){e=null;s();n("afterprint")}}function s(){var i=document.getElementById("mozPrintCallback-shim");if(e){var n=Math.round(100*t/e.length);var r=i.querySelector("progress");var s=i.querySelector(".relative-progress");r.value=n;s.textContent=n+"%";i.removeAttribute("hidden");i.onclick=a}else{i.setAttribute("hidden","")}}var o=!!document.attachEvent;window.addEventListener("keydown",function(t){if(t.keyCode===80&&(t.ctrlKey||t.metaKey)&&!t.altKey&&(!t.shiftKey||window.chrome||window.opera)){window.print();if(o){return}t.preventDefault();if(t.stopImmediatePropagation){t.stopImmediatePropagation()}else{t.stopPropagation()}return}if(t.keyCode===27&&e){a()}},true);if(o){document.attachEvent("onkeydown",function(e){e=e||window.event;if(e.keyCode===80&&e.ctrlKey){e.keyCode=0;return false}})}if("onbeforeprint"in window){var l=function(e){if(e.detail!=="custom"&&e.stopImmediatePropagation){e.stopImmediatePropagation()}};window.addEventListener("beforeprint",l,false);window.addEventListener("afterprint",l,false)}})();var DownloadManager=function h(){function e(e,t){var i=document.createElement("a");if(i.click){i.href=e;i.target="_parent";if("download"in i){i.download=t}(document.body||document.documentElement).appendChild(i);i.click();i.parentNode.removeChild(i)}else{if(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]){var n=e.indexOf("?")===-1?"?":"&";e=e.replace(/#|$/,n+"$&")}window.open(e,"_parent")}}function t(){}t.prototype={downloadUrl:function i(t,n){if(!PDFJS.isValidUrl(t,true)){return}e(t+"#pdfjs.action=download",n)},downloadData:function n(t,i,r){if(navigator.msSaveBlob){return navigator.msSaveBlob(new Blob([t],{type:r}),i)}var a=PDFJS.createObjectURL(t,r);e(a,i)},download:function r(t,i,n){if(!URL){this.downloadUrl(i,n);return}if(navigator.msSaveBlob){if(!navigator.msSaveBlob(t,n)){this.downloadUrl(i,n)}return}var r=URL.createObjectURL(t);e(r,n)}};return t}();var ViewHistory=function u(){function e(e){this.fingerprint=e;this.isInitializedPromiseResolved=false;this.initializedPromise=this._readFromStorage().then(function(e){this.isInitializedPromiseResolved=true;var t=JSON.parse(e||"{}");if(!("files"in t)){t.files=[]}if(t.files.length>=VIEW_HISTORY_MEMORY){t.files.shift()}var i;for(var n=0,r=t.files.length;n<r;n++){var a=t.files[n];if(a.fingerprint===this.fingerprint){i=n;break}}if(typeof i!=="number"){i=t.files.push({fingerprint:this.fingerprint})-1}this.file=t.files[i];this.database=t}.bind(this))}e.prototype={_writeToStorage:function t(){return new Promise(function(e){var t=JSON.stringify(this.database);localStorage.setItem("database",t);e()}.bind(this))},_readFromStorage:function i(){return new Promise(function(e){e(localStorage.getItem("database"))})},set:function n(e,t){if(!this.isInitializedPromiseResolved){return}this.file[e]=t;return this._writeToStorage()},setMultiple:function r(e){if(!this.isInitializedPromiseResolved){return}for(var t in e){this.file[t]=e[t]}return this._writeToStorage()},get:function a(e,t){if(!this.isInitializedPromiseResolved){return t}return this.file[e]||t}};return e}();var PDFFindBar=function f(){function e(e){this.opened=false;this.bar=e.bar||null;this.toggleButton=e.toggleButton||null;this.findField=e.findField||null;this.highlightAll=e.highlightAllCheckbox||null;this.caseSensitive=e.caseSensitiveCheckbox||null;this.findMsg=e.findMsg||null;this.findStatusIcon=e.findStatusIcon||null;this.findPreviousButton=e.findPreviousButton||null;this.findNextButton=e.findNextButton||null;this.findController=e.findController||null;if(this.findController===null){throw new Error("PDFFindBar cannot be used without a "+"PDFFindController instance.")}var t=this;this.toggleButton.addEventListener("click",function(){t.toggle()});this.findField.addEventListener("input",function(){t.dispatchEvent("")});this.bar.addEventListener("keydown",function(e){switch(e.keyCode){case 13:if(e.target===t.findField){t.dispatchEvent("again",e.shiftKey)}break;case 27:t.close();break}});this.findPreviousButton.addEventListener("click",function(){t.dispatchEvent("again",true)});this.findNextButton.addEventListener("click",function(){t.dispatchEvent("again",false)});this.highlightAll.addEventListener("click",function(){t.dispatchEvent("highlightallchange")});this.caseSensitive.addEventListener("click",function(){t.dispatchEvent("casesensitivitychange")})}e.prototype={dispatchEvent:function t(e,i){var n=document.createEvent("CustomEvent");n.initCustomEvent("find"+e,true,true,{query:this.findField.value,caseSensitive:this.caseSensitive.checked,highlightAll:this.highlightAll.checked,findPrevious:i});return window.dispatchEvent(n)},updateUIState:function i(e,t){var i=false;var n="";var r="";switch(e){case FindStates.FIND_FOUND:break;case FindStates.FIND_PENDING:r="pending";break;case FindStates.FIND_NOTFOUND:n=mozL10n.get("find_not_found",null,"Phrase not found");i=true;break;case FindStates.FIND_WRAPPED:if(t){n=mozL10n.get("find_reached_top",null,"Reached top of document, continued from bottom")}else{n=mozL10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}break}if(i){this.findField.classList.add("notFound")}else{this.findField.classList.remove("notFound")}this.findField.setAttribute("data-status",r);this.findMsg.textContent=n},open:function n(){if(!this.opened){this.opened=true;this.toggleButton.classList.add("toggled");this.bar.classList.remove("hidden")}this.findField.select();this.findField.focus()},close:function r(){if(!this.opened){return}this.opened=false;this.toggleButton.classList.remove("toggled");this.bar.classList.add("hidden");this.findController.active=false},toggle:function a(){if(this.opened){this.close()}else{this.open()}}};return e}();var FindStates={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3};var PDFFindController=function g(){function e(e){this.startedTextExtraction=false;this.extractTextPromises=[];this.pendingFindMatches={};this.active=false;this.pageContents=[];this.pageMatches=[];this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.pagesToSearch=null;this.resumePageIdx=null;this.state=null;this.dirtyMatch=false;this.findTimeout=null;this.pdfViewer=e.pdfViewer||null;this.integratedFind=e.integratedFind||false;this.charactersToNormalize={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"};this.findBar=e.findBar||null;var t=Object.keys(this.charactersToNormalize).join("");this.normalizationRegex=new RegExp("["+t+"]","g");var i=["find","findagain","findhighlightallchange","findcasesensitivitychange"];this.firstPagePromise=new Promise(function(e){this.resolveFirstPage=e}.bind(this));this.handleEvent=this.handleEvent.bind(this);for(var n=0,r=i.length;n<r;n++){window.addEventListener(i[n],this.handleEvent)}}e.prototype={setFindBar:function t(e){this.findBar=e},reset:function i(){this.startedTextExtraction=false;this.extractTextPromises=[];this.active=false},normalize:function n(e){var t=this;return e.replace(this.normalizationRegex,function(e){return t.charactersToNormalize[e]})},calcFindMatch:function r(e){var t=this.normalize(this.pageContents[e]);var i=this.normalize(this.state.query);var n=this.state.caseSensitive;var r=i.length;if(r===0){return}if(!n){t=t.toLowerCase();i=i.toLowerCase()}var a=[];var s=-r;while(true){s=t.indexOf(i,s+r);if(s===-1){break}a.push(s)}this.pageMatches[e]=a;this.updatePage(e);if(this.resumePageIdx===e){this.resumePageIdx=null;this.nextPageMatch()}},extractText:function a(){if(this.startedTextExtraction){return}this.startedTextExtraction=true;this.pageContents=[];var e=[];var t=this.pdfViewer.pagesCount;for(var i=0;i<t;i++){this.extractTextPromises.push(new Promise(function(t){e.push(t)}))}var n=this;function r(t){n.pdfViewer.getPageTextContent(t).then(function i(a){var s=a.items;var o=[];for(var l=0,d=s.length;l<d;l++){o.push(s[l].str)}n.pageContents.push(o.join(""));e[t](t);if(t+1<n.pdfViewer.pagesCount){r(t+1)}})}r(0)},handleEvent:function s(e){if(this.state===null||e.type!=="findagain"){this.dirtyMatch=true}this.state=e.detail;this.updateUIState(FindStates.FIND_PENDING);this.firstPagePromise.then(function(){this.extractText();clearTimeout(this.findTimeout);if(e.type==="find"){this.findTimeout=setTimeout(this.nextMatch.bind(this),250)}else{this.nextMatch()}}.bind(this))},updatePage:function o(e){var t=this.pdfViewer.getPageView(e);if(this.selected.pageIdx===e){this.pdfViewer.scrollPageIntoView(e+1)}if(t.textLayer){t.textLayer.updateMatches()}},nextMatch:function l(){var e=this.state.findPrevious;var t=this.pdfViewer.currentPageNumber-1;var i=this.pdfViewer.pagesCount;this.active=true;if(this.dirtyMatch){this.dirtyMatch=false;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=t;this.offset.matchIdx=null;this.hadMatch=false;this.resumePageIdx=null;this.pageMatches=[];var n=this;for(var r=0;r<i;r++){this.updatePage(r);if(!(r in this.pendingFindMatches)){this.pendingFindMatches[r]=true;this.extractTextPromises[r].then(function(e){delete n.pendingFindMatches[e];n.calcFindMatch(e)})}}}if(this.state.query===""){this.updateUIState(FindStates.FIND_FOUND);return}if(this.resumePageIdx){return}var a=this.offset;this.pagesToSearch=i;if(a.matchIdx!==null){var s=this.pageMatches[a.pageIdx].length;if(!e&&a.matchIdx+1<s||e&&a.matchIdx>0){this.hadMatch=true;a.matchIdx=e?a.matchIdx-1:a.matchIdx+1;this.updateMatch(true);return}this.advanceOffsetPage(e)}this.nextPageMatch()},matchesReady:function d(e){var t=this.offset;var i=e.length;var n=this.state.findPrevious;if(i){this.hadMatch=true;t.matchIdx=n?i-1:0;this.updateMatch(true);return true}else{this.advanceOffsetPage(n);if(t.wrapped){t.matchIdx=null;if(this.pagesToSearch<0){this.updateMatch(false);return true}}return false}},nextPageMatch:function c(){if(this.resumePageIdx!==null){console.error("There can only be one pending page.")}do{var e=this.offset.pageIdx;var t=this.pageMatches[e];if(!t){this.resumePageIdx=e;break}}while(!this.matchesReady(t))},advanceOffsetPage:function h(e){var t=this.offset;var i=this.extractTextPromises.length;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1;t.matchIdx=null;this.pagesToSearch--;if(t.pageIdx>=i||t.pageIdx<0){t.pageIdx=e?i-1:0;t.wrapped=true}},updateMatch:function u(e){var t=FindStates.FIND_NOTFOUND;var i=this.offset.wrapped;this.offset.wrapped=false;if(e){var n=this.selected.pageIdx;this.selected.pageIdx=this.offset.pageIdx;this.selected.matchIdx=this.offset.matchIdx;t=i?FindStates.FIND_WRAPPED:FindStates.FIND_FOUND;if(n!==-1&&n!==this.selected.pageIdx){this.updatePage(n)}}this.updateUIState(t,this.state.findPrevious);if(this.selected.pageIdx!==-1){this.updatePage(this.selected.pageIdx)}},updateUIState:function f(e,t){if(this.integratedFind){FirefoxCom.request("updateFindControlState",{result:e,findPrevious:t});return}if(this.findBar===null){throw new Error("PDFFindController is not initialized with a "+"PDFFindBar instance.")}this.findBar.updateUIState(e,t)}};return e}();var PDFHistory={initialized:false,initialDestination:null,initialize:function p(e,t){this.initialized=true;this.reInitialized=false;this.allowHashChange=true;this.historyUnlocked=true;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=false;this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=e;this.linkService=t;this.currentUid=this.uid=0;this.current={};var i=window.history.state;if(this._isStateObjectDefined(i)){if(i.target.dest){this.initialDestination=i.target.dest}else{t.setHash(i.target.hash)}this.currentUid=i.uid;this.uid=i.uid+1;this.current=i.target}else{if(i&&i.fingerprint&&this.fingerprint!==i.fingerprint){this.reInitialized=true}this._pushOrReplaceState({fingerprint:this.fingerprint},true)}var n=this;window.addEventListener("popstate",function a(e){e.preventDefault();e.stopPropagation();if(!n.historyUnlocked){return}if(e.state){n._goTo(e.state)}else{n.previousHash=window.location.hash.substring(1);if(n.uid===0){var t=n.previousHash&&n.currentBookmark&&n.previousHash!==n.currentBookmark?{hash:n.currentBookmark,page:n.currentPage}:{page:1};n.historyUnlocked=false;n.allowHashChange=false;window.history.back();n._pushToHistory(t,false,true);window.history.forward();n.historyUnlocked=true}n._pushToHistory({hash:n.previousHash},false,true);n._updatePreviousBookmark()}},false);function r(){var e=n._getPreviousParams(null,true);if(e){var t=!n.current.dest&&n.current.hash!==n.previousHash;n._pushToHistory(e,false,t);n._updatePreviousBookmark()}window.removeEventListener("beforeunload",r,false)}window.addEventListener("beforeunload",r,false);window.addEventListener("pageshow",function s(e){window.addEventListener("beforeunload",r,false)},false)},_isStateObjectDefined:function m(e){return e&&e.uid>=0&&e.fingerprint&&this.fingerprint===e.fingerprint&&e.target&&e.target.hash?true:false},_pushOrReplaceState:function v(e,t){if(t){window.history.replaceState(e,"",document.URL)}else{window.history.pushState(e,"",document.URL)}},get isHashChangeUnlocked(){if(!this.initialized){return true}var e=this.allowHashChange;this.allowHashChange=true;return e},_updatePreviousBookmark:function w(){if(this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage){this.previousBookmark=this.currentBookmark;this.previousPage=this.currentPage;this.updatePreviousBookmark=false}},updateCurrentBookmark:function P(e,t){if(this.initialized){this.currentBookmark=e.substring(1);this.currentPage=t|0;this._updatePreviousBookmark()}},updateNextHashParam:function b(e){if(this.initialized){this.nextHashParam=e}},push:function S(e,t){if(!(this.initialized&&this.historyUnlocked)){return}if(e.dest&&!e.hash){e.hash=this.current.hash&&this.current.dest&&this.current.dest===e.dest?this.current.hash:this.linkService.getDestinationHash(e.dest).split("#")[1]}if(e.page){e.page|=0}if(t){var i=window.history.state.target;if(!i){this._pushToHistory(e,false);this.previousHash=window.location.hash.substring(1)}this.updatePreviousBookmark=this.nextHashParam?false:true;if(i){this._updatePreviousBookmark()}return}if(this.nextHashParam){if(this.nextHashParam===e.hash){this.nextHashParam=null;this.updatePreviousBookmark=true;return}else{this.nextHashParam=null}}if(e.hash){if(this.current.hash){if(this.current.hash!==e.hash){this._pushToHistory(e,true)}else{if(!this.current.page&&e.page){this._pushToHistory(e,false,true)}this.updatePreviousBookmark=true}}else{this._pushToHistory(e,true)}}else if(this.current.page&&e.page&&this.current.page!==e.page){this._pushToHistory(e,true)}},_getPreviousParams:function y(e,t){if(!(this.currentBookmark&&this.currentPage)){return null}else if(this.updatePreviousBookmark){this.updatePreviousBookmark=false}if(this.uid>0&&!(this.previousBookmark&&this.previousPage)){return null}if(!this.current.dest&&!e||t){if(this.previousBookmark===this.currentBookmark){return null}}else if(this.current.page||e){if(this.previousPage===this.currentPage){return null}}else{return null}var i={hash:this.currentBookmark,page:this.currentPage};if(PresentationMode.active){i.hash=null}return i},_stateObj:function E(e){return{fingerprint:this.fingerprint,uid:this.uid,target:e}},_pushToHistory:function F(e,t,i){if(!this.initialized){return}if(!e.hash&&e.page){e.hash="page="+e.page}if(t&&!i){var n=this._getPreviousParams();if(n){var r=!this.current.dest&&this.current.hash!==this.previousHash;this._pushToHistory(n,false,r)}}this._pushOrReplaceState(this._stateObj(e),i||this.uid===0);this.currentUid=this.uid++;this.current=e;this.updatePreviousBookmark=true},_goTo:function I(e){if(!(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(e))){return}if(!this.reInitialized&&e.uid<this.currentUid){var t=this._getPreviousParams(true);if(t){this._pushToHistory(this.current,false);this._pushToHistory(t,false);this.currentUid=e.uid;window.history.back();return}}this.historyUnlocked=false;if(e.target.dest){this.linkService.navigateTo(e.target.dest)}else{this.linkService.setHash(e.target.hash)}this.currentUid=e.uid;if(e.uid>this.uid){this.uid=e.uid}this.current=e.target;this.updatePreviousBookmark=true;var i=window.location.hash.substring(1);if(this.previousHash!==i){this.allowHashChange=false}this.previousHash=i;this.historyUnlocked=true},back:function C(){this.go(-1)},forward:function D(){this.go(1)},go:function L(e){if(this.initialized&&this.historyUnlocked){var t=window.history.state;if(e===-1&&t&&t.uid>0){window.history.back()}else if(e===1&&t&&t.uid<this.uid-1){window.history.forward()}}}};var SecondaryToolbar={opened:false,previousContainerHeight:null,newContainerHeight:null,initialize:function T(e){this.toolbar=e.toolbar;this.presentationMode=e.presentationMode;this.documentProperties=e.documentProperties;this.buttonContainer=this.toolbar.firstElementChild;this.toggleButton=e.toggleButton;this.presentationModeButton=e.presentationModeButton;this.openFile=e.openFile;this.print=e.print;this.download=e.download;this.viewBookmark=e.viewBookmark;this.firstPage=e.firstPage;this.lastPage=e.lastPage;this.pageRotateCw=e.pageRotateCw;this.pageRotateCcw=e.pageRotateCcw;this.documentPropertiesButton=e.documentPropertiesButton;var t=[{element:this.toggleButton,handler:this.toggle},{element:this.presentationModeButton,handler:this.presentationModeClick},{element:this.openFile,handler:this.openFileClick},{element:this.print,handler:this.printClick},{element:this.download,handler:this.downloadClick},{element:this.viewBookmark,handler:this.viewBookmarkClick},{element:this.firstPage,handler:this.firstPageClick},{element:this.lastPage,handler:this.lastPageClick},{element:this.pageRotateCw,handler:this.pageRotateCwClick},{element:this.pageRotateCcw,handler:this.pageRotateCcwClick},{element:this.documentPropertiesButton,handler:this.documentPropertiesClick}];for(var i in t){var n=t[i].element;if(n){n.addEventListener("click",t[i].handler.bind(this))}}},presentationModeClick:function _(e){this.presentationMode.request();this.close()},openFileClick:function A(e){document.getElementById("fileInput").click();this.close()},printClick:function k(e){window.print();this.close()},downloadClick:function V(e){PDFViewerApplication.download();this.close()},viewBookmarkClick:function N(e){this.close()},firstPageClick:function x(e){PDFViewerApplication.page=1;this.close()},lastPageClick:function B(e){if(PDFViewerApplication.pdfDocument){PDFViewerApplication.page=PDFViewerApplication.pagesCount}this.close()},pageRotateCwClick:function R(e){PDFViewerApplication.rotatePages(90)},pageRotateCcwClick:function M(e){PDFViewerApplication.rotatePages(-90)},documentPropertiesClick:function O(e){this.documentProperties.open();this.close()},setMaxHeight:function U(e){if(!e||!this.buttonContainer){return}this.newContainerHeight=e.clientHeight;if(this.previousContainerHeight===this.newContainerHeight){return}this.buttonContainer.setAttribute("style","max-height: "+(this.newContainerHeight-SCROLLBAR_PADDING)+"px;");this.previousContainerHeight=this.newContainerHeight},open:function z(){if(this.opened){return}this.opened=true;this.toggleButton.classList.add("toggled");this.toolbar.classList.remove("hidden")},close:function H(e){if(!this.opened){return}else if(e&&!this.toolbar.contains(e)){return}this.opened=false;this.toolbar.classList.add("hidden");this.toggleButton.classList.remove("toggled")},toggle:function j(){if(this.opened){this.close()}else{this.open()}}};var DELAY_BEFORE_HIDING_CONTROLS=3e3;var SELECTOR="presentationControls";var DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS=1e3;var PresentationMode={active:false,args:null,contextMenuOpen:false,prevCoords:{x:null,y:null},initialize:function W(e){this.container=e.container;this.secondaryToolbar=e.secondaryToolbar;this.viewer=this.container.firstElementChild;this.firstPage=e.firstPage;this.lastPage=e.lastPage;this.pageRotateCw=e.pageRotateCw;this.pageRotateCcw=e.pageRotateCcw;this.firstPage.addEventListener("click",function(){this.contextMenuOpen=false;this.secondaryToolbar.firstPageClick()}.bind(this));this.lastPage.addEventListener("click",function(){this.contextMenuOpen=false;this.secondaryToolbar.lastPageClick()}.bind(this));this.pageRotateCw.addEventListener("click",function(){this.contextMenuOpen=false;this.secondaryToolbar.pageRotateCwClick()}.bind(this));this.pageRotateCcw.addEventListener("click",function(){this.contextMenuOpen=false;this.secondaryToolbar.pageRotateCcwClick()}.bind(this))},get isFullscreen(){return document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement},_setSwitchInProgress:function G(){if(this.switchInProgress){clearTimeout(this.switchInProgress)}this.switchInProgress=setTimeout(function e(){delete this.switchInProgress;this._notifyStateChange()}.bind(this),DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS)},_resetSwitchInProgress:function J(){if(this.switchInProgress){clearTimeout(this.switchInProgress);delete this.switchInProgress}},request:function Q(){if(!PDFViewerApplication.supportsFullscreen||this.isFullscreen||!this.viewer.hasChildNodes()){return false}this._setSwitchInProgress();this._notifyStateChange();if(this.container.requestFullscreen){this.container.requestFullscreen()}else if(this.container.mozRequestFullScreen){this.container.mozRequestFullScreen()}else if(this.container.webkitRequestFullScreen){this.container.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else if(this.container.msRequestFullscreen){this.container.msRequestFullscreen()}else{return false}this.args={page:PDFViewerApplication.page,previousScale:PDFViewerApplication.currentScaleValue};return true},_notifyStateChange:function q(){var e=document.createEvent("CustomEvent");e.initCustomEvent("presentationmodechanged",true,true,{active:PresentationMode.active,switchInProgress:!!PresentationMode.switchInProgress});window.dispatchEvent(e)},enter:function Y(){this.active=true;this._resetSwitchInProgress();this._notifyStateChange();setTimeout(function e(){PDFViewerApplication.page=this.args.page;PDFViewerApplication.setScale("page-fit",true)}.bind(this),0);window.addEventListener("mousemove",this.mouseMove,false);window.addEventListener("mousedown",this.mouseDown,false);window.addEventListener("contextmenu",this.contextMenu,false);this.showControls();HandTool.enterPresentationMode();this.contextMenuOpen=false;this.container.setAttribute("contextmenu","viewerContextMenu");window.getSelection().removeAllRanges()},exit:function X(){var e=PDFViewerApplication.page;setTimeout(function t(){this.active=false;this._notifyStateChange();PDFViewerApplication.setScale(this.args.previousScale,true);PDFViewerApplication.page=e;this.args=null}.bind(this),0);window.removeEventListener("mousemove",this.mouseMove,false);window.removeEventListener("mousedown",this.mouseDown,false);window.removeEventListener("contextmenu",this.contextMenu,false);this.hideControls();PDFViewerApplication.clearMouseScrollState();HandTool.exitPresentationMode();this.container.removeAttribute("contextmenu");this.contextMenuOpen=false;scrollIntoView(document.getElementById("thumbnailContainer"+e))},showControls:function K(){if(this.controlsTimeout){clearTimeout(this.controlsTimeout)}else{this.container.classList.add(SELECTOR)}this.controlsTimeout=setTimeout(function e(){this.container.classList.remove(SELECTOR);delete this.controlsTimeout}.bind(this),DELAY_BEFORE_HIDING_CONTROLS)},hideControls:function Z(){if(!this.controlsTimeout){return}this.container.classList.remove(SELECTOR);clearTimeout(this.controlsTimeout);delete this.controlsTimeout},mouseMove:function $(e){var t={x:e.clientX,y:e.clientY};var i=PresentationMode.prevCoords;PresentationMode.prevCoords=t;if(t.x===i.x&&t.y===i.y){return}PresentationMode.showControls()},mouseDown:function et(e){var t=PresentationMode;if(t.contextMenuOpen){t.contextMenuOpen=false;e.preventDefault();return}if(e.button===0){var i=e.target.href&&e.target.classList.contains("internalLink");if(!i){e.preventDefault();PDFViewerApplication.page+=e.shiftKey?-1:1}}},contextMenu:function tt(e){PresentationMode.contextMenuOpen=true}};(function it(){function e(e){if(PresentationMode.isFullscreen){PresentationMode.enter()}else{PresentationMode.exit()}}window.addEventListener("fullscreenchange",e,false);window.addEventListener("mozfullscreenchange",e,false);window.addEventListener("webkitfullscreenchange",e,false);window.addEventListener("MSFullscreenChange",e,false)
})();"use strict";var GrabToPan=function nt(){function e(e){this.element=e.element;this.document=e.element.ownerDocument;if(typeof e.ignoreTarget==="function"){this.ignoreTarget=e.ignoreTarget}this.onActiveChanged=e.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._endPan=this._endPan.bind(this);var t=this.overlay=document.createElement("div");t.className="grab-to-pan-grabbing"}e.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function o(){if(!this.active){this.active=true;this.element.addEventListener("mousedown",this._onmousedown,true);this.element.classList.add(this.CSS_CLASS_GRAB);if(this.onActiveChanged){this.onActiveChanged(true)}}},deactivate:function l(){if(this.active){this.active=false;this.element.removeEventListener("mousedown",this._onmousedown,true);this._endPan();this.element.classList.remove(this.CSS_CLASS_GRAB);if(this.onActiveChanged){this.onActiveChanged(false)}}},toggle:function d(){if(this.active){this.deactivate()}else{this.activate()}},ignoreTarget:function c(e){return e[t]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function h(e){if(e.button!==0||this.ignoreTarget(e.target)){return}if(e.originalTarget){try{e.originalTarget.tagName}catch(t){return}}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=e.clientX;this.clientYStart=e.clientY;this.document.addEventListener("mousemove",this._onmousemove,true);this.document.addEventListener("mouseup",this._endPan,true);this.element.addEventListener("scroll",this._endPan,true);e.preventDefault();e.stopPropagation();this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING);var i=document.activeElement;if(i&&!i.contains(e.target)){i.blur()}},_onmousemove:function u(e){this.element.removeEventListener("scroll",this._endPan,true);if(s(e)){this._endPan();return}var t=e.clientX-this.clientXStart;var i=e.clientY-this.clientYStart;this.element.scrollTop=this.scrollTopStart-i;this.element.scrollLeft=this.scrollLeftStart-t;if(!this.overlay.parentNode){document.body.appendChild(this.overlay)}},_endPan:function f(){this.element.removeEventListener("scroll",this._endPan,true);this.document.removeEventListener("mousemove",this._onmousemove,true);this.document.removeEventListener("mouseup",this._endPan,true);if(this.overlay.parentNode){this.overlay.parentNode.removeChild(this.overlay)}}};var t;["webkitM","mozM","msM","oM","m"].some(function(e){var i=e+"atches";if(i in document.documentElement){t=i}i+="Selector";if(i in document.documentElement){t=i}return t});var i=!document.documentMode||document.documentMode>9;var n=window.chrome;var r=n&&(n.webstore||n.app);var a=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);function s(e){if("buttons"in e&&i){return!(e.buttons|1)}if(r||a){return e.which===0}}return e}();var HandTool={initialize:function rt(e){var t=e.toggleHandTool;this.handTool=new GrabToPan({element:e.container,onActiveChanged:function(e){if(!t){return}if(e){t.title=mozL10n.get("hand_tool_disable.title",null,"Disable hand tool");t.firstElementChild.textContent=mozL10n.get("hand_tool_disable_label",null,"Disable hand tool")}else{t.title=mozL10n.get("hand_tool_enable.title",null,"Enable hand tool");t.firstElementChild.textContent=mozL10n.get("hand_tool_enable_label",null,"Enable hand tool")}}});if(t){t.addEventListener("click",this.toggle.bind(this),false);window.addEventListener("localized",function(e){Preferences.get("enableHandToolOnLoad").then(function t(e){if(e){this.handTool.activate()}}.bind(this),function i(e){})}.bind(this))}},toggle:function at(){this.handTool.toggle();SecondaryToolbar.close()},enterPresentationMode:function st(){if(this.handTool.active){this.wasActive=true;this.handTool.deactivate()}},exitPresentationMode:function ot(){if(this.wasActive){this.wasActive=null;this.handTool.activate()}}};var OverlayManager={overlays:{},active:null,register:function lt(e,t,i){return new Promise(function(n){var r,a;if(!e||!(r=document.getElementById(e))||!(a=r.parentNode)){throw new Error("Not enough parameters.")}else if(this.overlays[e]){throw new Error("The overlay is already registered.")}this.overlays[e]={element:r,container:a,callerCloseMethod:t||null,canForceClose:i||false};n()}.bind(this))},unregister:function dt(e){return new Promise(function(t){if(!this.overlays[e]){throw new Error("The overlay does not exist.")}else if(this.active===e){throw new Error("The overlay cannot be removed while it is active.")}delete this.overlays[e];t()}.bind(this))},open:function ct(e){return new Promise(function(t){if(!this.overlays[e]){throw new Error("The overlay does not exist.")}else if(this.active){if(this.overlays[e].canForceClose){this._closeThroughCaller()}else if(this.active===e){throw new Error("The overlay is already active.")}else{throw new Error("Another overlay is currently active.")}}this.active=e;this.overlays[this.active].element.classList.remove("hidden");this.overlays[this.active].container.classList.remove("hidden");window.addEventListener("keydown",this._keyDown);t()}.bind(this))},close:function ht(e){return new Promise(function(t){if(!this.overlays[e]){throw new Error("The overlay does not exist.")}else if(!this.active){throw new Error("The overlay is currently not active.")}else if(this.active!==e){throw new Error("Another overlay is currently active.")}this.overlays[this.active].container.classList.add("hidden");this.overlays[this.active].element.classList.add("hidden");this.active=null;window.removeEventListener("keydown",this._keyDown);t()}.bind(this))},_keyDown:function ut(e){var t=OverlayManager;if(t.active&&e.keyCode===27){t._closeThroughCaller();e.preventDefault()}},_closeThroughCaller:function ft(){if(this.overlays[this.active].callerCloseMethod){this.overlays[this.active].callerCloseMethod()}if(this.active){this.close(this.active)}}};var PasswordPrompt={overlayName:null,updatePassword:null,reason:null,passwordField:null,passwordText:null,passwordSubmit:null,passwordCancel:null,initialize:function gt(e){this.overlayName=e.overlayName;this.passwordField=e.passwordField;this.passwordText=e.passwordText;this.passwordSubmit=e.passwordSubmit;this.passwordCancel=e.passwordCancel;this.passwordSubmit.addEventListener("click",this.verifyPassword.bind(this));this.passwordCancel.addEventListener("click",this.close.bind(this));this.passwordField.addEventListener("keydown",function(e){if(e.keyCode===13){this.verifyPassword()}}.bind(this));OverlayManager.register(this.overlayName,this.close.bind(this),true)},open:function pt(){OverlayManager.open(this.overlayName).then(function(){this.passwordField.focus();var e=mozL10n.get("password_label",null,"Enter the password to open this PDF file.");if(this.reason===PDFJS.PasswordResponses.INCORRECT_PASSWORD){e=mozL10n.get("password_invalid",null,"Invalid password. Please try again.")}this.passwordText.textContent=e}.bind(this))},close:function mt(){OverlayManager.close(this.overlayName).then(function(){this.passwordField.value=""}.bind(this))},verifyPassword:function vt(){var e=this.passwordField.value;if(e&&e.length>0){this.close();return this.updatePassword(e)}}};var DocumentProperties={overlayName:null,rawFileSize:0,fileNameField:null,fileSizeField:null,titleField:null,authorField:null,subjectField:null,keywordsField:null,creationDateField:null,modificationDateField:null,creatorField:null,producerField:null,versionField:null,pageCountField:null,url:null,pdfDocument:null,initialize:function wt(e){this.overlayName=e.overlayName;this.fileNameField=e.fileNameField;this.fileSizeField=e.fileSizeField;this.titleField=e.titleField;this.authorField=e.authorField;this.subjectField=e.subjectField;this.keywordsField=e.keywordsField;this.creationDateField=e.creationDateField;this.modificationDateField=e.modificationDateField;this.creatorField=e.creatorField;this.producerField=e.producerField;this.versionField=e.versionField;this.pageCountField=e.pageCountField;if(e.closeButton){e.closeButton.addEventListener("click",this.close.bind(this))}this.dataAvailablePromise=new Promise(function(e){this.resolveDataAvailable=e}.bind(this));OverlayManager.register(this.overlayName,this.close.bind(this))},getProperties:function Pt(){if(!OverlayManager.active){return}this.pdfDocument.getDownloadInfo().then(function(e){if(e.length===this.rawFileSize){return}this.setFileSize(e.length);this.updateUI(this.fileSizeField,this.parseFileSize())}.bind(this));this.pdfDocument.getMetadata().then(function(e){var t=[{field:this.fileNameField,content:getPDFFileNameFromURL(this.url)},{field:this.fileSizeField,content:this.parseFileSize()},{field:this.titleField,content:e.info.Title},{field:this.authorField,content:e.info.Author},{field:this.subjectField,content:e.info.Subject},{field:this.keywordsField,content:e.info.Keywords},{field:this.creationDateField,content:this.parseDate(e.info.CreationDate)},{field:this.modificationDateField,content:this.parseDate(e.info.ModDate)},{field:this.creatorField,content:e.info.Creator},{field:this.producerField,content:e.info.Producer},{field:this.versionField,content:e.info.PDFFormatVersion},{field:this.pageCountField,content:this.pdfDocument.numPages}];for(var i in t){var n=t[i];this.updateUI(n.field,n.content)}}.bind(this))},updateUI:function bt(e,t){if(e&&t!==undefined&&t!==""){e.textContent=t}},setFileSize:function St(e){if(e>0){this.rawFileSize=e}},parseFileSize:function yt(){var e=this.rawFileSize,t=e/1024;if(!t){return}else if(t<1024){return mozL10n.get("document_properties_kb",{size_kb:(+t.toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)")}else{return mozL10n.get("document_properties_mb",{size_mb:(+(t/1024).toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)")}},open:function Et(){Promise.all([OverlayManager.open(this.overlayName),this.dataAvailablePromise]).then(function(){this.getProperties()}.bind(this))},close:function Ft(){OverlayManager.close(this.overlayName)},parseDate:function It(e){var t=e;if(t===undefined){return""}if(t.substring(0,2)==="D:"){t=t.substring(2)}var i=parseInt(t.substring(0,4),10);var n=parseInt(t.substring(4,6),10)-1;var r=parseInt(t.substring(6,8),10);var a=parseInt(t.substring(8,10),10);var s=parseInt(t.substring(10,12),10);var o=parseInt(t.substring(12,14),10);var l=t.substring(14,15);var d=parseInt(t.substring(15,17),10);var c=parseInt(t.substring(18,20),10);if(l==="-"){a+=d;s+=c}else if(l==="+"){a-=d;s-=c}var h=new Date(Date.UTC(i,n,r,a,s,o));var u=h.toLocaleDateString();var f=h.toLocaleTimeString();return mozL10n.get("document_properties_date_string",{date:u,time:f},"{{date}}, {{time}}")}};var PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var IGNORE_CURRENT_POSITION_ON_ZOOM=false;var CLEANUP_TIMEOUT=3e4;var RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};var PDFRenderingQueue=function Ct(){function e(){this.pdfViewer=null;this.pdfThumbnailViewer=null;this.onIdle=null;this.highestPriorityPage=null;this.idleTimeout=null;this.printing=false;this.isThumbnailViewEnabled=false}e.prototype={setViewer:function t(e){this.pdfViewer=e},setThumbnailViewer:function i(e){this.pdfThumbnailViewer=e},isHighestPriority:function n(e){return this.highestPriorityPage===e.renderingId},renderHighestPriority:function r(e){if(this.idleTimeout){clearTimeout(this.idleTimeout);this.idleTimeout=null}if(this.pdfViewer.forceRendering(e)){return}if(this.pdfThumbnailViewer&&this.isThumbnailViewEnabled){if(this.pdfThumbnailViewer.forceRendering()){return}}if(this.printing){return}if(this.onIdle){this.idleTimeout=setTimeout(this.onIdle.bind(this),CLEANUP_TIMEOUT)}},getHighestPriority:function a(e,t,i){var n=e.views;var r=n.length;if(r===0){return false}for(var a=0;a<r;++a){var s=n[a].view;if(!this.isViewFinished(s)){return s}}if(i){var o=e.last.id;if(t[o]&&!this.isViewFinished(t[o])){return t[o]}}else{var l=e.first.id-2;if(t[l]&&!this.isViewFinished(t[l])){return t[l]}}return null},isViewFinished:function s(e){return e.renderingState===RenderingStates.FINISHED},renderView:function o(e){var t=e.renderingState;switch(t){case RenderingStates.FINISHED:return false;case RenderingStates.PAUSED:this.highestPriorityPage=e.renderingId;e.resume();break;case RenderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case RenderingStates.INITIAL:this.highestPriorityPage=e.renderingId;e.draw(this.renderHighestPriority.bind(this));break}return true}};return e}();var PageView=function Dt(e,t,i,n,r,a,s,o,l){this.id=t;this.renderingId="page"+t;this.rotation=0;this.scale=i||1;this.viewport=n;this.pdfPageRotate=n.rotation;this.hasRestrictedScaling=false;this.linkService=r;this.renderingQueue=a;this.cache=s;this.pageSource=o;this.viewer=l;this.renderingState=RenderingStates.INITIAL;this.resume=null;this.textLayer=null;this.zoomLayer=null;this.annotationLayer=null;var d=document.createElement("a");d.name=""+this.id;var c=this.el=document.createElement("div");c.id="pageContainer"+this.id;c.className="page";c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";e.appendChild(d);e.appendChild(c);this.setPdfPage=function f(e){this.pdfPage=e;this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(this.scale*CSS_UNITS,t);this.stats=e.stats;this.reset()};this.destroy=function g(){this.zoomLayer=null;this.reset();if(this.pdfPage){this.pdfPage.destroy()}};this.reset=function p(e){if(this.renderTask){this.renderTask.cancel()}this.resume=null;this.renderingState=RenderingStates.INITIAL;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";var t=c.childNodes;for(var i=c.childNodes.length-1;i>=0;i--){var n=t[i];if(this.zoomLayer&&this.zoomLayer===n||e&&this.annotationLayer===n){continue}c.removeChild(n)}c.removeAttribute("data-loaded");if(e){if(this.annotationLayer){this.annotationLayer.setAttribute("hidden","true")}}else{this.annotationLayer=null}if(this.canvas){this.canvas.width=0;this.canvas.height=0;delete this.canvas}this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)};this.update=function m(e,t){this.scale=e||this.scale;if(typeof t!=="undefined"){this.rotation=t}var i=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*CSS_UNITS,rotation:i});var n=false;if(this.canvas&&PDFJS.maxCanvasPixels>0){var r=this.canvas.getContext("2d");var a=getOutputScale(r);var s=this.viewport.width*this.viewport.height;var o=Math.sqrt(PDFJS.maxCanvasPixels/s);if((Math.floor(this.viewport.width)*a.sx|0)*(Math.floor(this.viewport.height)*a.sy|0)>PDFJS.maxCanvasPixels){n=true}}if(this.canvas&&(PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&n)){this.cssTransform(this.canvas,true);return}else if(this.canvas&&!this.zoomLayer){this.zoomLayer=this.canvas.parentNode;this.zoomLayer.style.position="absolute"}if(this.zoomLayer){this.cssTransform(this.zoomLayer.firstChild)}this.reset(true)};this.cssTransform=function v(e,t){var i=this.viewport.width;var n=this.viewport.height;e.style.width=e.parentNode.style.width=c.style.width=Math.floor(i)+"px";e.style.height=e.parentNode.style.height=c.style.height=Math.floor(n)+"px";var r=this.viewport.rotation-e._viewport.rotation;var a=Math.abs(r);var s=1,o=1;if(a===90||a===270){s=n/i;o=i/n}var l="rotate("+r+"deg) "+"scale("+s+","+o+")";CustomStyle.setProp("transform",e,l);if(this.textLayer){var d=this.textLayer.viewport;var h=this.viewport.rotation-d.rotation;var f=Math.abs(h);var g=i/d.width;if(f===90||f===270){g=i/d.height}var p=this.textLayer.textLayerDiv;var m,v;switch(f){case 0:m=v=0;break;case 90:m=0;v="-"+p.style.height;break;case 180:m="-"+p.style.width;v="-"+p.style.height;break;case 270:m="-"+p.style.width;v=0;break;default:console.error("Bad rotation value.");break}CustomStyle.setProp("transform",p,"rotate("+f+"deg) "+"scale("+g+", "+g+") "+"translate("+m+", "+v+")");CustomStyle.setProp("transformOrigin",p,"0% 0%")}if(t&&this.annotationLayer){u(c,this.pdfPage,this.viewport)}};Object.defineProperty(this,"width",{get:function w(){return this.viewport.width},enumerable:true});Object.defineProperty(this,"height",{get:function P(){return this.viewport.height},enumerable:true});var h=this;function u(e,t,i){function n(e,t){e.href=r.getDestinationHash(t);e.onclick=function i(){if(t){r.navigateTo(t)}return false};if(t){e.className="internalLink"}}function a(e,t){e.href=r.getAnchorUrl("");e.onclick=function i(){r.executeNamedAction(t);return false};e.className="internalLink"}t.getAnnotations().then(function(r){i=i.clone({dontFlip:true});var s=i.transform;var o="matrix("+s.join(",")+")";var l,d,c,u;if(h.annotationLayer){for(c=0,u=r.length;c<u;c++){l=r[c];d=h.annotationLayer.querySelector('[data-annotation-id="'+l.id+'"]');if(d){CustomStyle.setProp("transform",d,o)}}h.annotationLayer.removeAttribute("hidden")}else{for(c=0,u=r.length;c<u;c++){l=r[c];if(!l||!l.hasHtml){continue}d=PDFJS.AnnotationUtils.getHtmlElement(l,t.commonObjs);d.setAttribute("data-annotation-id",l.id);mozL10n.translate(d);var f=l.rect;var g=t.view;f=PDFJS.Util.normalizeRect([f[0],g[3]-f[1]+g[1],f[2],g[3]-f[3]+g[1]]);d.style.left=f[0]+"px";d.style.top=f[1]+"px";d.style.position="absolute";CustomStyle.setProp("transform",d,o);var p=-f[0]+"px "+-f[1]+"px";CustomStyle.setProp("transformOrigin",d,p);if(l.subtype==="Link"&&!l.url){var m=d.getElementsByTagName("a")[0];if(m){if(l.action){a(m,l.action)}else{n(m,"dest"in l?l.dest:null)}}}if(!h.annotationLayer){var v=document.createElement("div");v.className="annotationLayer";e.appendChild(v);h.annotationLayer=v}h.annotationLayer.appendChild(d)}}})}this.getPagePoint=function b(e,t){return this.viewport.convertToPdfPoint(e,t)};this.draw=function S(e){var t=this.pdfPage;if(this.pagePdfPromise){return}if(!t){var i=this.pageSource.getPage();i.then(function(t){delete this.pagePdfPromise;this.setPdfPage(t);this.draw(e)}.bind(this));this.pagePdfPromise=i;return}if(this.renderingState!==RenderingStates.INITIAL){console.error("Must be in new state before drawing")}this.renderingState=RenderingStates.RUNNING;var n=this.viewport;var r=document.createElement("div");r.style.width=c.style.width;r.style.height=c.style.height;r.classList.add("canvasWrapper");var a=document.createElement("canvas");a.id="page"+this.id;r.appendChild(a);if(this.annotationLayer){c.insertBefore(r,this.annotationLayer)}else{c.appendChild(r)}this.canvas=a;var o=a.getContext("2d");var l=getOutputScale(o);if(PDFJS.useOnlyCssZoom){var d=n.clone({scale:CSS_UNITS});l.sx*=d.width/n.width;l.sy*=d.height/n.height;l.scaled=true}if(PDFJS.maxCanvasPixels>0){var h=n.width*n.height;var f=Math.sqrt(PDFJS.maxCanvasPixels/h);if(l.sx>f||l.sy>f){l.sx=f;l.sy=f;l.scaled=true;this.hasRestrictedScaling=true}else{this.hasRestrictedScaling=false}}a.width=Math.floor(n.width)*l.sx|0;a.height=Math.floor(n.height)*l.sy|0;a.style.width=Math.floor(n.width)+"px";a.style.height=Math.floor(n.height)+"px";a._viewport=n;var g=null;var p=null;if(!PDFJS.disableTextLayer){g=document.createElement("div");g.className="textLayer";g.style.width=a.style.width;g.style.height=a.style.height;if(this.annotationLayer){c.insertBefore(g,this.annotationLayer)}else{c.appendChild(g)}p=this.viewer.createTextLayerBuilder(g,this.id-1,this.viewport)}this.textLayer=p;o._scaleX=l.sx;o._scaleY=l.sy;if(l.scaled){o.scale(l.sx,l.sy)}var m=this;function v(i){if(P===m.renderTask){m.renderTask=null}if(i==="cancelled"){return}m.renderingState=RenderingStates.FINISHED;if(m.loadingIconDiv){c.removeChild(m.loadingIconDiv);delete m.loadingIconDiv}if(m.zoomLayer){c.removeChild(m.zoomLayer);m.zoomLayer=null}m.error=i;m.stats=t.stats;m.updateStats();if(m.onAfterDraw){m.onAfterDraw()}var n=document.createEvent("CustomEvent");n.initCustomEvent("pagerender",true,true,{pageNumber:t.pageNumber});c.dispatchEvent(n);e()}var w={canvasContext:o,viewport:this.viewport,continueCallback:function b(e){if(!m.renderingQueue.isHighestPriority(m)){m.renderingState=RenderingStates.PAUSED;m.resume=function t(){m.renderingState=RenderingStates.RUNNING;e()};return}e()}};var P=this.renderTask=this.pdfPage.render(w);this.renderTask.promise.then(function S(){v(null);if(p){m.pdfPage.getTextContent().then(function e(t){p.setTextContent(t)})}},function y(e){v(e)});u(c,t,this.viewport);c.setAttribute("data-loaded",true);s.push(this)};this.beforePrint=function y(){var e=this.pdfPage;var t=e.getViewport(1);var i=2;var n=document.createElement("canvas");n.width=Math.floor(t.width)*i;n.height=Math.floor(t.height)*i;n.style.width=i*t.width+"pt";n.style.height=i*t.height+"pt";var r="scale("+1/i+", "+1/i+")";CustomStyle.setProp("transform",n,r);CustomStyle.setProp("transformOrigin",n,"0% 0%");var a=document.getElementById("printContainer");var s=document.createElement("div");s.style.width=t.width+"pt";s.style.height=t.height+"pt";s.appendChild(n);a.appendChild(s);n.mozPrintCallback=function(r){var a=r.context;a.save();a.fillStyle="rgb(255, 255, 255)";a.fillRect(0,0,n.width,n.height);a.restore();a.scale(i,i);var s={canvasContext:a,viewport:t,intent:"print"};e.render(s).promise.then(function(){r.done()},function(e){console.error(e);if("abort"in r){r.abort()}else{r.done()}})}};this.updateStats=function E(){if(!this.stats){return}if(PDFJS.pdfBug&&Stats.enabled){var e=this.stats;Stats.add(this.id,e)}}};var FIND_SCROLL_OFFSET_TOP=-50;var FIND_SCROLL_OFFSET_LEFT=-400;var MAX_TEXT_DIVS_TO_RENDER=1e5;var RENDER_DELAY=200;var NonWhitespaceRegexp=/\S/;function isAllWhitespace(e){return!NonWhitespaceRegexp.test(e)}var TextLayerBuilder=function Lt(){function e(e){this.textLayerDiv=e.textLayerDiv;this.layoutDone=false;this.divContentDone=false;this.pageIdx=e.pageIndex;this.matches=[];this.lastScrollSource=e.lastScrollSource||null;this.viewport=e.viewport;this.isViewerInPresentationMode=e.isViewerInPresentationMode;this.textDivs=[];this.findController=e.findController||null}e.prototype={renderLayer:function t(){var e=document.createDocumentFragment();var t=this.textDivs;var i=t.length;var n=document.createElement("canvas");var r=n.getContext("2d");if(i>MAX_TEXT_DIVS_TO_RENDER){return}var a;var s;for(var o=0;o<i;o++){var l=t[o];if(l.dataset.isWhitespace!==undefined){continue}var d=l.style.fontSize;var c=l.style.fontFamily;if(d!==a||c!==s){r.font=d+" "+c;a=d;s=c}var h=r.measureText(l.textContent).width;if(h>0){e.appendChild(l);var u;if(l.dataset.canvasWidth!==undefined){var f=l.dataset.canvasWidth/h;u="scaleX("+f+")"}else{u=""}var g=l.dataset.angle;if(g){u="rotate("+g+"deg) "+u}if(u){CustomStyle.setProp("transform",l,u)}}}this.textLayerDiv.appendChild(e);this.renderingDone=true;this.updateMatches()},setupRenderLayoutTimer:function i(){var e=this;var t=this.lastScrollSource===null?0:this.lastScrollSource.lastScroll;if(Date.now()-t>RENDER_DELAY){this.renderLayer()}else{if(this.renderTimer){clearTimeout(this.renderTimer)}this.renderTimer=setTimeout(function(){e.setupRenderLayoutTimer()},RENDER_DELAY)}},appendText:function n(e,t){var i=t[e.fontName];var n=document.createElement("div");this.textDivs.push(n);if(isAllWhitespace(e.str)){n.dataset.isWhitespace=true;return}var r=PDFJS.Util.transform(this.viewport.transform,e.transform);var a=Math.atan2(r[1],r[0]);if(i.vertical){a+=Math.PI/2}var s=Math.sqrt(r[2]*r[2]+r[3]*r[3]);var o=s;if(i.ascent){o=i.ascent*o}else if(i.descent){o=(1+i.descent)*o}var l;var d;if(a===0){l=r[4];d=r[5]-o}else{l=r[4]+o*Math.sin(a);d=r[5]-o*Math.cos(a)}n.style.left=l+"px";n.style.top=d+"px";n.style.fontSize=s+"px";n.style.fontFamily=i.fontFamily;n.textContent=e.str;if(PDFJS.pdfBug){n.dataset.fontName=e.fontName}if(a!==0){n.dataset.angle=a*(180/Math.PI)}if(n.textContent.length>1){if(i.vertical){n.dataset.canvasWidth=e.height*this.viewport.scale}else{n.dataset.canvasWidth=e.width*this.viewport.scale}}},setTextContent:function r(e){this.textContent=e;var t=e.items;for(var i=0,n=t.length;i<n;i++){this.appendText(t[i],e.styles)}this.divContentDone=true;this.setupRenderLayoutTimer()},convertMatches:function a(e){var t=0;var i=0;var n=this.textContent.items;var r=n.length-1;var a=this.findController===null?0:this.findController.state.query.length;var s=[];for(var o=0,l=e.length;o<l;o++){var d=e[o];while(t!==r&&d>=i+n[t].str.length){i+=n[t].str.length;t++}if(t===n.length){console.error("Could not find a matching mapping")}var c={begin:{divIdx:t,offset:d-i}};d+=a;while(t!==r&&d>i+n[t].str.length){i+=n[t].str.length;t++}c.end={divIdx:t,offset:d-i};s.push(c)}return s},renderMatches:function s(e){if(e.length===0){return}var t=this.textContent.items;var i=this.textDivs;var n=null;var r=this.findController===null?false:this.pageIdx===this.findController.selected.pageIdx;var a=this.findController===null?-1:this.findController.selected.matchIdx;var s=this.findController===null?false:this.findController.state.highlightAll;var o={divIdx:-1,offset:undefined};function l(e,t){var n=e.divIdx;i[n].textContent="";d(n,0,e.offset,t)}function d(e,n,r,a){var s=i[e];var o=t[e].str.substring(n,r);var l=document.createTextNode(o);if(a){var d=document.createElement("span");d.className=a;d.appendChild(l);s.appendChild(d);return}s.appendChild(l)}var c=a,h=c+1;if(s){c=0;h=e.length}else if(!r){return}for(var u=c;u<h;u++){var f=e[u];var g=f.begin;var p=f.end;var m=r&&u===a;var v=m?" selected":"";if(m&&!this.isViewerInPresentationMode){scrollIntoView(i[g.divIdx],{top:FIND_SCROLL_OFFSET_TOP,left:FIND_SCROLL_OFFSET_LEFT})}if(!n||g.divIdx!==n.divIdx){if(n!==null){d(n.divIdx,n.offset,o.offset)}l(g)}else{d(n.divIdx,n.offset,g.offset)}if(g.divIdx===p.divIdx){d(g.divIdx,g.offset,p.offset,"highlight"+v)}else{d(g.divIdx,g.offset,o.offset,"highlight begin"+v);for(var w=g.divIdx+1,P=p.divIdx;w<P;w++){i[w].className="highlight middle"+v}l(p,"highlight end"+v)}n=p}if(n){d(n.divIdx,n.offset,o.offset)}},updateMatches:function o(){if(!this.renderingDone){return}var e=this.matches;var t=this.textDivs;var i=this.textContent.items;var n=-1;for(var r=0,a=e.length;r<a;r++){var s=e[r];var o=Math.max(n,s.begin.divIdx);for(var l=o,d=s.end.divIdx;l<=d;l++){var c=t[l];c.textContent=i[l].str;c.className=""}n=s.end.divIdx+1}if(this.findController===null||!this.findController.active){return}this.matches=this.convertMatches(this.findController===null?[]:this.findController.pageMatches[this.pageIdx]||[]);this.renderMatches(this.matches)}};return e}();var PDFViewer=function Tt(){function e(e){this.container=e.container;this.viewer=e.viewer||e.container.firstElementChild;this.linkService=e.linkService||new SimpleLinkService(this);this.defaultRenderingQueue=!e.renderingQueue;if(this.defaultRenderingQueue){this.renderingQueue=new PDFRenderingQueue;this.renderingQueue.setViewer(this)}else{this.renderingQueue=e.renderingQueue}this.scroll=watchScroll(this.container,this._scrollUpdate.bind(this));this.lastScroll=0;this.updateInProgress=false;this.presentationModeState=PresentationModeState.UNKNOWN;this._resetView()}e.prototype={get pagesCount(){return this.pages.length},getPageView:function(e){return this.pages[e]},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(e){if(!this.pdfDocument){this._currentPageNumber=e;return}var t=document.createEvent("UIEvents");t.initUIEvent("pagechange",true,true,window,0);t.updateInProgress=this.updateInProgress;if(!(0<e&&e<=this.pagesCount)){t.pageNumber=this._currentPageNumber;t.previousPageNumber=e;this.container.dispatchEvent(t);return}this.pages[e-1].updateStats();t.previousPageNumber=this._currentPageNumber;this._currentPageNumber=e;t.pageNumber=e;this.container.dispatchEvent(t)},get currentScale(){return this._currentScale},set currentScale(e){if(isNaN(e)){throw new Error("Invalid numeric scale")}if(!this.pdfDocument){this._currentScale=e;this._currentScaleValue=e.toString();return}this._setScale(e,false)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(e){if(!this.pdfDocument){this._currentScale=isNaN(e)?UNKNOWN_SCALE:e;this._currentScaleValue=e;return}this._setScale(e,false)},get pagesRotation(){return this._pagesRotation},set pagesRotation(e){this._pagesRotation=e;for(var t=0,i=this.pages.length;t<i;t++){var n=this.pages[t];n.update(n.scale,e)}this._setScale(this._currentScaleValue,true)},setDocument:function(e){if(this.pdfDocument){this._resetView()}this.pdfDocument=e;if(!e){return}var t=e.numPages;var i=this.pagesRefMap={};var n=this;var r;var a=new Promise(function(e){r=e});this.pagesPromise=a;a.then(function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagesloaded",true,true,{pagesCount:t});n.container.dispatchEvent(e)});var s=false;var o=null;var l=new Promise(function(e){o=e});this.onePageRendered=l;var d=function(e){e.onAfterDraw=function t(){if(!s){s=true;o()}var t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",true,true,{pageNumber:e.id});n.container.dispatchEvent(t)}};var c=e.getPage(1);this.firstPagePromise=c;return c.then(function(a){var s=this._currentScale||1;var o=a.getViewport(s*CSS_UNITS);for(var c=1;c<=t;++c){var h=new PDFPageSource(e,c);var u=new PageView(this.viewer,c,s,o.clone(),this.linkService,this.renderingQueue,this.cache,h,this);d(u);this.pages.push(u)}l.then(function(){if(!PDFJS.disableAutoFetch){var a=t;for(var s=1;s<=t;++s){e.getPage(s).then(function(e,t){var s=n.pages[e-1];if(!s.pdfPage){s.setPdfPage(t)}var o=t.ref.num+" "+t.ref.gen+" R";i[o]=e;a--;if(!a){r()}}.bind(null,s))}}else{r()}});var f=document.createEvent("CustomEvent");f.initCustomEvent("pagesinit",true,true,null);n.container.dispatchEvent(f);if(this.defaultRenderingQueue){this.update()}}.bind(this))},_resetView:function(){this.cache=new Cache(DEFAULT_CACHE_SIZE);this.pages=[];this._currentPageNumber=1;this._currentScale=UNKNOWN_SCALE;this._currentScaleValue=null;this.location=null;this._pagesRotation=0;var e=this.viewer;while(e.hasChildNodes()){e.removeChild(e.lastChild)}},_scrollUpdate:function(){this.lastScroll=Date.now();if(this.pagesCount===0){return}this.update()},_setScaleUpdatePages:function t(e,i,n,r){this._currentScaleValue=i;if(e===this._currentScale){return}for(var a=0,s=this.pages.length;a<s;a++){this.pages[a].update(e)}this._currentScale=e;if(!n){var o=this._currentPageNumber,l;var d=this.presentationModeState===PresentationModeState.CHANGING||this.presentationModeState===PresentationModeState.FULLSCREEN;if(this.location&&!d&&!IGNORE_CURRENT_POSITION_ON_ZOOM){o=this.location.pageNumber;l=[null,{name:"XYZ"},this.location.left,this.location.top,null]}this.scrollPageIntoView(o,l)}var c=document.createEvent("UIEvents");c.initUIEvent("scalechange",true,true,window,0);c.scale=e;if(r){c.presetValue=i}this.container.dispatchEvent(c)},_setScale:function i(e,t){if(e==="custom"){return}var i=parseFloat(e);if(i>0){this._setScaleUpdatePages(i,e,t,false)}else{var n=this.pages[this._currentPageNumber-1];if(!n){return}var r=this.presentationModeState===PresentationModeState.FULLSCREEN;var a=r?0:SCROLLBAR_PADDING;var s=r?0:VERTICAL_PADDING;var o=(this.container.clientWidth-a)/n.width*n.scale;var l=(this.container.clientHeight-s)/n.height*n.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=l;break;case"page-fit":i=Math.min(o,l);break;case"auto":var d=n.width>n.height;var c=d?Math.min(l,o):o;i=Math.min(MAX_AUTO_SCALE,c);break;default:console.error("pdfViewSetScale: '"+e+"' is an unknown zoom value.");return}this._setScaleUpdatePages(i,e,t,true)}},scrollPageIntoView:function n(e,t){var i=this.pages[e-1];var n=i.el;if(this.presentationModeState===PresentationModeState.FULLSCREEN){if(this.linkService.page!==i.id){this.linkService.page=i.id;return}t=null;this._setScale(this.currentScaleValue,true)}if(!t){scrollIntoView(n);return}var r=0,a=0;var s=0,o=0,l,d;var c=i.rotation%180===0?false:true;var h=(c?i.height:i.width)/i.scale/CSS_UNITS;
var u=(c?i.width:i.height)/i.scale/CSS_UNITS;var f=0;switch(t[1].name){case"XYZ":r=t[2];a=t[3];f=t[4];r=r!==null?r:0;a=a!==null?a:u;break;case"Fit":case"FitB":f="page-fit";break;case"FitH":case"FitBH":a=t[2];f="page-width";break;case"FitV":case"FitBV":r=t[2];s=h;o=u;f="page-height";break;case"FitR":r=t[2];a=t[3];s=t[4]-r;o=t[5]-a;var g=this.container;l=(g.clientWidth-SCROLLBAR_PADDING)/s/CSS_UNITS;d=(g.clientHeight-SCROLLBAR_PADDING)/o/CSS_UNITS;f=Math.min(Math.abs(l),Math.abs(d));break;default:return}if(f&&f!==this.currentScale){this.currentScaleValue=f}else if(this.currentScale===UNKNOWN_SCALE){this.currentScaleValue=DEFAULT_SCALE}if(f==="page-fit"&&!t[4]){scrollIntoView(n);return}var p=[i.viewport.convertToViewportPoint(r,a),i.viewport.convertToViewportPoint(r+s,a+o)];var m=Math.min(p[0][0],p[1][0]);var v=Math.min(p[0][1],p[1][1]);scrollIntoView(n,{left:m,top:v})},_updateLocation:function(e){var t=this._currentScale;var i=this._currentScaleValue;var n=parseFloat(i)===t?Math.round(t*1e4)/100:i;var r=e.id;var a="#page="+r;a+="&zoom="+n;var s=this.pages[r-1];var o=this.container;var l=s.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y);var d=Math.round(l[0]);var c=Math.round(l[1]);a+=","+d+","+c;this.location={pageNumber:r,scale:n,top:c,left:d,pdfOpenParams:a}},update:function(){var e=this._getVisiblePages();var t=e.views;if(t.length===0){return}this.updateInProgress=true;var i=Math.max(DEFAULT_CACHE_SIZE,2*t.length+1);this.cache.resize(i);this.renderingQueue.renderHighestPriority(e);var n=this.currentPageNumber;var r=e.first;for(var a=0,s=t.length,o=false;a<s;++a){var l=t[a];if(l.percent<100){break}if(l.id===n){o=true;break}}if(!o){n=t[0].id}if(this.presentationModeState!==PresentationModeState.FULLSCREEN){this.currentPageNumber=n}this._updateLocation(r);this.updateInProgress=false;var d=document.createEvent("UIEvents");d.initUIEvent("updateviewarea",true,true,window,0);this.container.dispatchEvent(d)},containsElement:function(e){return this.container.contains(e)},focus:function(){this.container.focus()},blur:function(){this.container.blur()},get isHorizontalScrollbarEnabled(){return this.presentationModeState===PresentationModeState.FULLSCREEN?false:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(this.presentationModeState!==PresentationModeState.FULLSCREEN){return getVisibleElements(this.container,this.pages,true)}else{var e=[];var t=this.pages[this._currentPageNumber-1];e.push({id:t.id,view:t});return{first:t,last:t,views:e}}},cleanup:function(){for(var e=0,t=this.pages.length;e<t;e++){if(this.pages[e]&&this.pages[e].renderingState!==RenderingStates.FINISHED){this.pages[e].reset()}}},forceRendering:function(e){var t=e||this._getVisiblePages();var i=this.renderingQueue.getHighestPriority(t,this.pages,this.scroll.down);if(i){this.renderingQueue.renderView(i);return true}return false},getPageTextContent:function(e){return this.pdfDocument.getPage(e+1).then(function(e){return e.getTextContent()})},createTextLayerBuilder:function(e,t,i){var n=this.presentationModeState===PresentationModeState.FULLSCREEN;return new TextLayerBuilder({textLayerDiv:e,pageIndex:t,viewport:i,lastScrollSource:this,isViewerInPresentationMode:n,findController:this.findController})},setFindController:function(e){this.findController=e}};return e}();var SimpleLinkService=function _t(){function e(e){this.pdfViewer=e}e.prototype={get page(){return this.pdfViewer.currentPageNumber},set page(e){this.pdfViewer.currentPageNumber=e},navigateTo:function(e){},getDestinationHash:function(e){return"#"},getAnchorUrl:function(e){return"#"},setHash:function(e){},executeNamedAction:function(e){}};return e}();var PDFPageSource=function At(){function e(e,t){this.pdfDocument=e;this.pageNumber=t}e.prototype={getPage:function(){return this.pdfDocument.getPage(this.pageNumber)}};return e}();var PDFViewerApplication={initialBookmark:document.location.hash.substring(1),initialized:false,fellback:false,pdfDocument:null,sidebarOpen:false,printing:false,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pageRotation:0,updateScaleControls:true,isInitialViewSet:false,animationStartedPromise:null,mouseScrollTimeStamp:0,mouseScrollDelta:0,preferenceSidebarViewOnLoad:SidebarView.NONE,preferencePdfBugEnabled:false,isViewerEmbedded:window.parent!==window,url:"",initialize:function kt(){var e=new PDFRenderingQueue;e.onIdle=this.cleanup.bind(this);this.pdfRenderingQueue=e;var t=document.getElementById("viewerContainer");var i=document.getElementById("viewer");this.pdfViewer=new PDFViewer({container:t,viewer:i,renderingQueue:e,linkService:this});e.setViewer(this.pdfViewer);var n=document.getElementById("thumbnailView");this.pdfThumbnailViewer=new PDFThumbnailViewer({container:n,renderingQueue:e,linkService:this});e.setThumbnailViewer(this.pdfThumbnailViewer);Preferences.initialize();this.findController=new PDFFindController({pdfViewer:this.pdfViewer,integratedFind:this.supportsIntegratedFind});this.pdfViewer.setFindController(this.findController);this.findBar=new PDFFindBar({bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),findMsg:document.getElementById("findMsg"),findStatusIcon:document.getElementById("findStatusIcon"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext"),findController:this.findController});this.findController.setFindBar(this.findBar);HandTool.initialize({container:t,toggleHandTool:document.getElementById("toggleHandTool")});SecondaryToolbar.initialize({toolbar:document.getElementById("secondaryToolbar"),presentationMode:PresentationMode,toggleButton:document.getElementById("secondaryToolbarToggle"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFile:document.getElementById("secondaryOpenFile"),print:document.getElementById("secondaryPrint"),download:document.getElementById("secondaryDownload"),viewBookmark:document.getElementById("secondaryViewBookmark"),firstPage:document.getElementById("firstPage"),lastPage:document.getElementById("lastPage"),pageRotateCw:document.getElementById("pageRotateCw"),pageRotateCcw:document.getElementById("pageRotateCcw"),documentProperties:DocumentProperties,documentPropertiesButton:document.getElementById("documentProperties")});PresentationMode.initialize({container:t,secondaryToolbar:SecondaryToolbar,firstPage:document.getElementById("contextFirstPage"),lastPage:document.getElementById("contextLastPage"),pageRotateCw:document.getElementById("contextPageRotateCw"),pageRotateCcw:document.getElementById("contextPageRotateCcw")});PasswordPrompt.initialize({overlayName:"passwordOverlay",passwordField:document.getElementById("password"),passwordText:document.getElementById("passwordText"),passwordSubmit:document.getElementById("passwordSubmit"),passwordCancel:document.getElementById("passwordCancel")});DocumentProperties.initialize({overlayName:"documentPropertiesOverlay",closeButton:document.getElementById("documentPropertiesClose"),fileNameField:document.getElementById("fileNameField"),fileSizeField:document.getElementById("fileSizeField"),titleField:document.getElementById("titleField"),authorField:document.getElementById("authorField"),subjectField:document.getElementById("subjectField"),keywordsField:document.getElementById("keywordsField"),creationDateField:document.getElementById("creationDateField"),modificationDateField:document.getElementById("modificationDateField"),creatorField:document.getElementById("creatorField"),producerField:document.getElementById("producerField"),versionField:document.getElementById("versionField"),pageCountField:document.getElementById("pageCountField")});var r=this;var a=Promise.all([Preferences.get("enableWebGL").then(function s(e){PDFJS.disableWebGL=!e}),Preferences.get("sidebarViewOnLoad").then(function o(e){r.preferenceSidebarViewOnLoad=e}),Preferences.get("pdfBugEnabled").then(function l(e){r.preferencePdfBugEnabled=e}),Preferences.get("disableTextLayer").then(function d(e){if(PDFJS.disableTextLayer===true){return}PDFJS.disableTextLayer=e}),Preferences.get("disableRange").then(function c(e){if(PDFJS.disableRange===true){return}PDFJS.disableRange=e}),Preferences.get("disableAutoFetch").then(function h(e){PDFJS.disableAutoFetch=e}),Preferences.get("disableFontFace").then(function u(e){if(PDFJS.disableFontFace===true){return}PDFJS.disableFontFace=e}),Preferences.get("useOnlyCssZoom").then(function f(e){PDFJS.useOnlyCssZoom=e})]).catch(function(e){});return a.then(function(){PDFViewerApplication.initialized=true})},zoomIn:function Vt(e){var t=this.pdfViewer.currentScale;do{t=(t*DEFAULT_SCALE_DELTA).toFixed(2);t=Math.ceil(t*10)/10;t=Math.min(MAX_SCALE,t)}while(--e&&t<MAX_SCALE);this.setScale(t,true)},zoomOut:function Nt(e){var t=this.pdfViewer.currentScale;do{t=(t/DEFAULT_SCALE_DELTA).toFixed(2);t=Math.floor(t*10)/10;t=Math.max(MIN_SCALE,t)}while(--e&&t>MIN_SCALE);this.setScale(t,true)},get currentScaleValue(){return this.pdfViewer.currentScaleValue},get pagesCount(){return this.pdfDocument.numPages},set page(e){this.pdfViewer.currentPageNumber=e},get page(){return this.pdfViewer.currentPageNumber},get supportsPrinting(){var e=document.createElement("canvas");var t="mozPrintCallback"in e;Object.defineProperty(this,"supportsPrinting",{value:t,enumerable:true,configurable:true,writable:false});return t},get supportsFullscreen(){var e=document.documentElement;var t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;if(document.fullscreenEnabled===false||document.mozFullScreenEnabled===false||document.webkitFullscreenEnabled===false||document.msFullscreenEnabled===false){t=false}Object.defineProperty(this,"supportsFullscreen",{value:t,enumerable:true,configurable:true,writable:false});return t},get supportsIntegratedFind(){var e=false;Object.defineProperty(this,"supportsIntegratedFind",{value:e,enumerable:true,configurable:true,writable:false});return e},get supportsDocumentFonts(){var e=true;Object.defineProperty(this,"supportsDocumentFonts",{value:e,enumerable:true,configurable:true,writable:false});return e},get supportsDocumentColors(){var e=true;Object.defineProperty(this,"supportsDocumentColors",{value:e,enumerable:true,configurable:true,writable:false});return e},get loadingBar(){var e=new ProgressBar("#loadingBar",{});Object.defineProperty(this,"loadingBar",{value:e,enumerable:true,configurable:true,writable:false});return e},setTitleUsingUrl:function xt(e){this.url=e;try{this.setTitle(decodeURIComponent(getFileName(e))||e)}catch(t){this.setTitle(e)}},setTitle:function Bt(e){document.title=e},close:function Rt(){var e=document.getElementById("errorWrapper");e.setAttribute("hidden","true");if(!this.pdfDocument){return}this.pdfDocument.destroy();this.pdfDocument=null;this.pdfThumbnailViewer.setDocument(null);this.pdfViewer.setDocument(null);if(typeof PDFBug!=="undefined"){PDFBug.cleanup()}},open:function Mt(e,t,i,n,r){if(this.pdfDocument){Preferences.reload()}this.close();var a={password:i};if(typeof e==="string"){this.setTitleUsingUrl(e);a.url=e}else if(e&&"byteLength"in e){a.data=e}else if(e.url&&e.originalUrl){this.setTitleUsingUrl(e.originalUrl);a.url=e.url}if(r){for(var s in r){a[s]=r[s]}}var o=this;o.loading=true;o.downloadComplete=false;var l=function c(e,t){PasswordPrompt.updatePassword=e;PasswordPrompt.reason=t;PasswordPrompt.open()};function d(e){o.progress(e.loaded/e.total)}PDFJS.getDocument(a,n,l,d).then(function h(e){o.load(e,t);o.loading=false},function u(e){var t=e&&e.message;var i=mozL10n.get("loading_error",null,"An error occurred while loading the PDF.");if(e instanceof PDFJS.InvalidPDFException){i=mozL10n.get("invalid_file_error",null,"Invalid or corrupted PDF file.")}else if(e instanceof PDFJS.MissingPDFException){i=mozL10n.get("missing_file_error",null,"Missing PDF file.")}else if(e instanceof PDFJS.UnexpectedResponseException){i=mozL10n.get("unexpected_response_error",null,"Unexpected server response.")}var n={message:t};o.error(i,n);o.loading=false});if(r&&r.length){DocumentProperties.setFileSize(r.length)}},download:function Ot(){function e(){n.downloadUrl(t,i)}var t=this.url.split("#")[0];var i=getPDFFileNameFromURL(t);var n=new DownloadManager;n.onerror=function(e){PDFViewerApplication.error("PDF failed to download.")};if(!this.pdfDocument){e();return}if(!this.downloadComplete){e();return}this.pdfDocument.getData().then(function r(e){var r=PDFJS.createBlob(e,"application/pdf");n.download(r,t,i)},e).then(null,e)},fallback:function Ut(e){return},navigateTo:function zt(e){var t="";var i=this;var n=function(r){i.pendingRefStr=null;var a=r instanceof Object?i.pagesRefMap[r.num+" "+r.gen+" R"]:r+1;if(a){if(a>i.pagesCount){a=i.pagesCount}i.pdfViewer.scrollPageIntoView(a,e);PDFHistory.push({dest:e,hash:t,page:a})}else{i.pdfDocument.getPageIndex(r).then(function(e){var t=e+1;i.pagesRefMap[r.num+" "+r.gen+" R"]=t;n(r)})}};var r;if(typeof e==="string"){t=e;r=this.pdfDocument.getDestination(e)}else{r=Promise.resolve(e)}r.then(function(t){e=t;if(!(t instanceof Array)){return}n(t[0])})},executeNamedAction:function Ht(e){switch(e){case"GoToPage":document.getElementById("pageNumber").focus();break;case"GoBack":PDFHistory.back();break;case"GoForward":PDFHistory.forward();break;case"Find":if(!this.supportsIntegratedFind){this.findBar.toggle()}break;case"NextPage":this.page++;break;case"PrevPage":this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}},getDestinationHash:function jt(e){if(typeof e==="string"){return this.getAnchorUrl("#"+escape(e))}if(e instanceof Array){var t=e[0];var i=t instanceof Object?this.pagesRefMap[t.num+" "+t.gen+" R"]:t+1;if(i){var n=this.getAnchorUrl("#page="+i);var r=e[1];if(typeof r==="object"&&"name"in r&&r.name==="XYZ"){var a=e[4]||this.currentScaleValue;var s=parseFloat(a);if(s){a=s*100}n+="&zoom="+a;if(e[2]||e[3]){n+=","+(e[2]||0)+","+(e[3]||0)}}return n}}return""},getAnchorUrl:function Wt(e){return e},error:function Gt(e,t){var i=mozL10n.get("error_version_info",{version:PDFJS.version||"?",build:PDFJS.build||"?"},"PDF.js v{{version}} (build: {{build}})")+"\n";if(t){i+=mozL10n.get("error_message",{message:t.message},"Message: {{message}}");if(t.stack){i+="\n"+mozL10n.get("error_stack",{stack:t.stack},"Stack: {{stack}}")}else{if(t.filename){i+="\n"+mozL10n.get("error_file",{file:t.filename},"File: {{file}}")}if(t.lineNumber){i+="\n"+mozL10n.get("error_line",{line:t.lineNumber},"Line: {{line}}")}}}var n=document.getElementById("errorWrapper");n.removeAttribute("hidden");var r=document.getElementById("errorMessage");r.textContent=e;var a=document.getElementById("errorClose");a.onclick=function(){n.setAttribute("hidden","true")};var s=document.getElementById("errorMoreInfo");var o=document.getElementById("errorShowMore");var l=document.getElementById("errorShowLess");o.onclick=function(){s.removeAttribute("hidden");o.setAttribute("hidden","true");l.removeAttribute("hidden");s.style.height=s.scrollHeight+"px"};l.onclick=function(){s.setAttribute("hidden","true");o.removeAttribute("hidden");l.setAttribute("hidden","true")};o.oncontextmenu=noContextMenuHandler;l.oncontextmenu=noContextMenuHandler;a.oncontextmenu=noContextMenuHandler;o.removeAttribute("hidden");l.setAttribute("hidden","true");s.value=i},progress:function Jt(e){var t=Math.round(e*100);if(t>this.loadingBar.percent||isNaN(t)){this.loadingBar.percent=t;if(PDFJS.disableAutoFetch&&t){if(this.disableAutoFetchLoadingBarTimeout){clearTimeout(this.disableAutoFetchLoadingBarTimeout);this.disableAutoFetchLoadingBarTimeout=null}this.loadingBar.show();this.disableAutoFetchLoadingBarTimeout=setTimeout(function(){this.loadingBar.hide();this.disableAutoFetchLoadingBarTimeout=null}.bind(this),DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT)}}},load:function Qt(e,t){var i=this;t=t||UNKNOWN_SCALE;this.findController.reset();this.pdfDocument=e;DocumentProperties.url=this.url;DocumentProperties.pdfDocument=e;DocumentProperties.resolveDataAvailable();var n=e.getDownloadInfo().then(function(){i.downloadComplete=true;i.loadingBar.hide()});var r=e.numPages;document.getElementById("numPages").textContent=mozL10n.get("page_of",{pageCount:r},"of {{pageCount}}");document.getElementById("pageNumber").max=r;var a=this.documentFingerprint=e.fingerprint;var s=this.store=new ViewHistory(a);var o=this.pdfViewer;o.currentScale=t;o.setDocument(e);var l=o.firstPagePromise;var d=o.pagesPromise;var c=o.onePageRendered;this.pageRotation=0;this.isInitialViewSet=false;this.pagesRefMap=o.pagesRefMap;this.pdfThumbnailViewer.setDocument(e);l.then(function(e){n.then(function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",true,true,{});window.dispatchEvent(e)});i.loadingBar.setWidth(document.getElementById("viewer"));i.findController.resolveFirstPage();if(!PDFJS.disableHistory&&!i.isViewerEmbedded){PDFHistory.initialize(i.documentFingerprint,i)}});var h;var u=Preferences.get("showPreviousViewOnLoad").then(function(e){h=e});var f;var g=Preferences.get("defaultZoomValue").then(function(e){f=e});var p=s.initializedPromise;Promise.all([l,p,u,g]).then(function v(){var e=null;if(h&&s.get("exists",false)){var n=s.get("page","1");var r=f||s.get("zoom",i.pdfViewer.currentScale);var a=s.get("scrollLeft","0");var o=s.get("scrollTop","0");e="page="+n+"&zoom="+r+","+a+","+o}else if(f){e="page=1&zoom="+f}i.setInitialView(e,t);if(!i.isViewerEmbedded){i.pdfViewer.focus()}},function w(e){console.error(e);l.then(function(){i.setInitialView(null,t)})});d.then(function(){if(i.supportsPrinting){e.getJavaScript().then(function(e){if(e.length){console.warn("Warning: JavaScript is not supported");i.fallback(PDFJS.UNSUPPORTED_FEATURES.javaScript)}var t=/\bprint\s*\(/g;for(var n=0,r=e.length;n<r;n++){var a=e[n];if(a&&t.test(a)){setTimeout(function(){window.print()});return}}})}});var m=[d,this.animationStartedPromise];Promise.all(m).then(function(){e.getOutline().then(function(e){var t=document.getElementById("outlineView");i.outline=new DocumentOutlineView({outline:e,outlineView:t,linkService:i});document.getElementById("viewOutline").disabled=!e;if(!e&&!t.classList.contains("hidden")){i.switchSidebarView("thumbs")}if(e&&i.preferenceSidebarViewOnLoad===SidebarView.OUTLINE){i.switchSidebarView("outline",true)}});e.getAttachments().then(function(e){var t=document.getElementById("attachmentsView");i.attachments=new DocumentAttachmentsView({attachments:e,attachmentsView:t});document.getElementById("viewAttachments").disabled=!e;if(!e&&!t.classList.contains("hidden")){i.switchSidebarView("thumbs")}if(e&&i.preferenceSidebarViewOnLoad===SidebarView.ATTACHMENTS){i.switchSidebarView("attachments",true)}})});if(i.preferenceSidebarViewOnLoad===SidebarView.THUMBS){Promise.all([l,c]).then(function(){i.switchSidebarView("thumbs",true)})}e.getMetadata().then(function(t){var n=t.info,r=t.metadata;i.documentInfo=n;i.metadata=r;console.log("PDF "+e.fingerprint+" ["+n.PDFFormatVersion+" "+(n.Producer||"-").trim()+" / "+(n.Creator||"-").trim()+"]"+" (PDF.js: "+(PDFJS.version||"-")+(!PDFJS.disableWebGL?" [WebGL]":"")+")");var a;if(r&&r.has("dc:title")){var s=r.get("dc:title");if(s!=="Untitled"){a=s}}if(!a&&n&&n["Title"]){a=n["Title"]}if(a){i.setTitle(a+" - "+document.title)}if(n.IsAcroFormPresent){console.warn("Warning: AcroForm/XFA is not supported");i.fallback(PDFJS.UNSUPPORTED_FEATURES.forms)}})},setInitialView:function qt(e,t){this.isInitialViewSet=true;document.getElementById("pageNumber").value=this.pdfViewer.currentPageNumber=1;if(PDFHistory.initialDestination){this.navigateTo(PDFHistory.initialDestination);PDFHistory.initialDestination=null}else if(this.initialBookmark){this.setHash(this.initialBookmark);PDFHistory.push({hash:this.initialBookmark},!!this.initialBookmark);this.initialBookmark=null}else if(e){this.setHash(e)}else if(t){this.setScale(t,true);this.page=1}if(this.pdfViewer.currentScale===UNKNOWN_SCALE){this.setScale(DEFAULT_SCALE,true)}},cleanup:function Yt(){this.pdfViewer.cleanup();this.pdfThumbnailViewer.cleanup();this.pdfDocument.cleanup()},forceRendering:function Xt(){this.pdfRenderingQueue.printing=this.printing;this.pdfRenderingQueue.isThumbnailViewEnabled=this.sidebarOpen;this.pdfRenderingQueue.renderHighestPriority()},setHash:function Kt(e){if(!this.isInitialViewSet){this.initialBookmark=e;return}var t=["Fit","FitB","FitH","FitBH","FitV","FitBV","FitR"];if(!e){return}if(e.indexOf("=")>=0){var i=this.parseQueryString(e);if("nameddest"in i){PDFHistory.updateNextHashParam(i.nameddest);this.navigateTo(i.nameddest);return}var n,r;if("page"in i){n=i.page|0||1}if("zoom"in i){var a=i.zoom.split(",");var s=a[0];var o=parseFloat(s);var l="XYZ";if(o){s=o/100}else if(t.indexOf(s)>=0){l=s}r=[null,{name:l},a.length>1?a[1]|0:null,a.length>2?a[2]|0:null,s]}if(r){this.pdfViewer.scrollPageIntoView(n||this.page,r)}else if(n){this.page=n}if("pagemode"in i){if(i.pagemode==="thumbs"||i.pagemode==="bookmarks"||i.pagemode==="attachments"){this.switchSidebarView(i.pagemode==="bookmarks"?"outline":i.pagemode,true)}else if(i.pagemode==="none"&&this.sidebarOpen){document.getElementById("sidebarToggle").click()}}}else if(/^\d+$/.test(e)){this.page=e}else{PDFHistory.updateNextHashParam(unescape(e));this.navigateTo(unescape(e))}},switchSidebarView:function Zt(e,t){if(t&&!this.sidebarOpen){document.getElementById("sidebarToggle").click()}var i=document.getElementById("thumbnailView");var n=document.getElementById("outlineView");var r=document.getElementById("attachmentsView");var a=document.getElementById("viewThumbnail");var s=document.getElementById("viewOutline");var o=document.getElementById("viewAttachments");switch(e){case"thumbs":var l=i.classList.contains("hidden");a.classList.add("toggled");s.classList.remove("toggled");o.classList.remove("toggled");i.classList.remove("hidden");n.classList.add("hidden");r.classList.add("hidden");this.forceRendering();if(l){this.pdfThumbnailViewer.ensureThumbnailVisible(this.page)}break;case"outline":a.classList.remove("toggled");s.classList.add("toggled");o.classList.remove("toggled");i.classList.add("hidden");n.classList.remove("hidden");r.classList.add("hidden");if(s.getAttribute("disabled")){return}break;case"attachments":a.classList.remove("toggled");s.classList.remove("toggled");o.classList.add("toggled");i.classList.add("hidden");n.classList.add("hidden");r.classList.remove("hidden");if(o.getAttribute("disabled")){return}break}},parseQueryString:function $t(e){var t=e.split("&");var i={};for(var n=0,r=t.length;n<r;++n){var a=t[n].split("=");var s=a[0].toLowerCase();var o=a.length>1?a[1]:null;i[decodeURIComponent(s)]=decodeURIComponent(o)}return i},beforePrint:function ei(){if(!this.supportsPrinting){var e=mozL10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.");this.error(e);return}var t=false;var i,n;if(!this.pagesCount){t=true}else{for(i=0,n=this.pagesCount;i<n;++i){if(!this.pdfViewer.getPageView(i).pdfPage){t=true;break}}}if(t){var r=mozL10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.");window.alert(r);return}this.printing=true;this.forceRendering();var a=document.querySelector("body");a.setAttribute("data-mozPrintCallback",true);for(i=0,n=this.pagesCount;i<n;++i){this.pdfViewer.getPageView(i).beforePrint()}},afterPrint:function ti(){var e=document.getElementById("printContainer");while(e.hasChildNodes()){e.removeChild(e.lastChild)}this.printing=false;this.forceRendering()},setScale:function(e,t){this.updateScaleControls=!!t;this.pdfViewer.currentScaleValue=e;this.updateScaleControls=true},rotatePages:function ii(e){var t=this.page;this.pageRotation=(this.pageRotation+360+e)%360;this.pdfViewer.pagesRotation=this.pageRotation;this.pdfThumbnailViewer.pagesRotation=this.pageRotation;this.forceRendering();this.pdfViewer.scrollPageIntoView(t)},mouseScroll:function ni(e){var t=50;var i=(new Date).getTime();var n=this.mouseScrollTimeStamp;if(i>n&&i-n<t){return}if(this.mouseScrollDelta>0&&e<0||this.mouseScrollDelta<0&&e>0){this.clearMouseScrollState()}this.mouseScrollDelta+=e;var r=120;if(Math.abs(this.mouseScrollDelta)>=r){var a={UP:-1,DOWN:1};var s=this.mouseScrollDelta>0?a.UP:a.DOWN;this.clearMouseScrollState();var o=this.page;if(o===1&&s===a.UP||o===this.pagesCount&&s===a.DOWN){return}this.page+=s;this.mouseScrollTimeStamp=i}},clearMouseScrollState:function ri(){this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0}};window.PDFView=PDFViewerApplication;var THUMBNAIL_SCROLL_MARGIN=-19;var ThumbnailView=function ai(e,t,i,n,r,a){var s=document.createElement("a");s.href=n.getAnchorUrl("#page="+t);s.title=mozL10n.get("thumb_page_title",{page:t},"Page {{page}}");s.onclick=function c(){n.page=t;return false};this.pdfPage=undefined;this.viewport=i;this.pdfPageRotate=i.rotation;this.rotation=0;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.id=t;this.renderingId="thumbnail"+t;this.canvasWidth=98;this.canvasHeight=this.canvasWidth/this.pageWidth*this.pageHeight;this.scale=this.canvasWidth/this.pageWidth;var o=this.el=document.createElement("div");o.id="thumbnailContainer"+t;o.className="thumbnail";if(t===1){o.classList.add("selected")}var l=document.createElement("div");l.className="thumbnailSelectionRing";l.style.width=this.canvasWidth+"px";l.style.height=this.canvasHeight+"px";o.appendChild(l);s.appendChild(o);e.appendChild(s);this.hasImage=false;this.renderingState=RenderingStates.INITIAL;this.renderingQueue=r;this.pageSource=a;this.setPdfPage=function h(e){this.pdfPage=e;this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(1,t);this.update()};this.update=function u(e){if(e!==undefined){this.rotation=e}var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:t});this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasHeight=this.canvasWidth/this.pageWidth*this.pageHeight;this.scale=this.canvasWidth/this.pageWidth;o.removeAttribute("data-loaded");l.textContent="";l.style.width=this.canvasWidth+"px";l.style.height=this.canvasHeight+"px";this.hasImage=false;this.renderingState=RenderingStates.INITIAL;this.resume=null};this.getPageDrawContext=function f(){var e=document.createElement("canvas");e.id="thumbnail"+t;e.width=this.canvasWidth;e.height=this.canvasHeight;e.className="thumbnailImage";e.setAttribute("aria-label",mozL10n.get("thumb_page_canvas",{page:t},"Thumbnail of Page {{page}}"));o.setAttribute("data-loaded",true);l.appendChild(e);var i=e.getContext("2d");i.save();i.fillStyle="rgb(255, 255, 255)";i.fillRect(0,0,this.canvasWidth,this.canvasHeight);i.restore();return i};this.drawingRequired=function g(){return!this.hasImage};this.draw=function p(e){if(!this.pdfPage){var t=this.pageSource.getPage(this.id);t.then(function(t){this.setPdfPage(t);this.draw(e)}.bind(this));return}if(this.renderingState!==RenderingStates.INITIAL){console.error("Must be in new state before drawing")}this.renderingState=RenderingStates.RUNNING;if(this.hasImage){e();return}var i=this;var n=this.getPageDrawContext();var r=this.viewport.clone({scale:this.scale});var a={canvasContext:n,viewport:r,continueCallback:function(e){if(!i.renderingQueue.isHighestPriority(i)){i.renderingState=RenderingStates.PAUSED;i.resume=function(){i.renderingState=RenderingStates.RUNNING;e()};return}e()}};this.pdfPage.render(a).promise.then(function s(){i.renderingState=RenderingStates.FINISHED;e()},function o(t){i.renderingState=RenderingStates.FINISHED;e()});this.hasImage=true};function d(e,t){var i=ThumbnailView.tempImageCache;if(!i){i=document.createElement("canvas");ThumbnailView.tempImageCache=i}i.width=e;i.height=t;return i}this.setImage=function m(e){if(!this.pdfPage){var t=this.pageSource.getPage();t.then(function(t){this.setPdfPage(t);this.setImage(e)}.bind(this));return}if(this.hasImage||!e){return}this.renderingState=RenderingStates.FINISHED;var i=this.getPageDrawContext();var n=e;var r=e.width;var a=e.height;var s=2;if(Math.max(e.width/i.canvas.width,e.height/i.canvas.height)>s){r>>=1;a>>=1;n=d(r,a);var o=n.getContext("2d");o.drawImage(e,0,0,e.width,e.height,0,0,r,a);while(Math.max(r/i.canvas.width,a/i.canvas.height)>s){o.drawImage(n,0,0,r,a,0,0,r>>1,a>>1);r>>=1;a>>=1}}i.drawImage(n,0,0,r,a,0,0,i.canvas.width,i.canvas.height);this.hasImage=true}};ThumbnailView.tempImageCache=null;var PDFThumbnailViewer=function si(){function e(e){this.container=e.container;this.renderingQueue=e.renderingQueue;this.linkService=e.linkService;this.scroll=watchScroll(this.container,this._scrollUpdated.bind(this));this._resetView()}e.prototype={_scrollUpdated:function t(){this.renderingQueue.renderHighestPriority()},getThumbnail:function i(e){return this.thumbnails[e]},_getVisibleThumbs:function n(){return getVisibleElements(this.container,this.thumbnails)},scrollThumbnailIntoView:function(e){var t=document.querySelector(".thumbnail.selected");if(t){t.classList.remove("selected")}var i=document.getElementById("thumbnailContainer"+e);i.classList.add("selected");var n=this._getVisibleThumbs();var r=n.views.length;if(r>0){var a=n.first.id;var s=r>1?n.last.id:a;if(e<=a||e>=s){scrollIntoView(i,{top:THUMBNAIL_SCROLL_MARGIN})}}},get pagesRotation(){return this._pagesRotation},set pagesRotation(e){this._pagesRotation=e;for(var t=0,i=this.thumbnails.length;t<i;t++){var n=this.thumbnails[t];n.update(e)}},cleanup:function r(){ThumbnailView.tempImageCache=null},_resetView:function(){this.thumbnails=[];this._pagesRotation=0},setDocument:function(e){if(this.pdfDocument){var t=this.container;while(t.hasChildNodes()){t.removeChild(t.lastChild)}this._resetView()}this.pdfDocument=e;if(!e){return Promise.resolve()}return e.getPage(1).then(function(t){var i=e.numPages;var n=t.getViewport(1);for(var r=1;r<=i;++r){var a=new PDFPageSource(e,r);var s=new ThumbnailView(this.container,r,n.clone(),this.linkService,this.renderingQueue,a);this.thumbnails.push(s)}}.bind(this))},ensureThumbnailVisible:function a(e){scrollIntoView(document.getElementById("thumbnailContainer"+e))},forceRendering:function(){var e=this._getVisibleThumbs();var t=this.renderingQueue.getHighestPriority(e,this.thumbnails,this.scroll.down);if(t){this.renderingQueue.renderView(t);return true}return false}};return e}();var DocumentOutlineView=function oi(e){var t=e.outline;var i=e.outlineView;while(i.firstChild){i.removeChild(i.firstChild)}if(!t){return}var n=e.linkService;function r(e,t){e.href=n.getDestinationHash(t.dest);e.onclick=function i(e){n.navigateTo(t.dest);return false}}var a=[{parent:i,items:t}];while(a.length>0){var s=a.shift();var o,l=s.items.length;for(o=0;o<l;o++){var d=s.items[o];var c=document.createElement("div");c.className="outlineItem";var h=document.createElement("a");r(h,d);h.textContent=d.title;c.appendChild(h);if(d.items.length>0){var u=document.createElement("div");u.className="outlineItems";c.appendChild(u);a.push({parent:u,items:d.items})}s.parent.appendChild(c)}}};var DocumentAttachmentsView=function li(e){var t=e.attachments;var i=e.attachmentsView;while(i.firstChild){i.removeChild(i.firstChild)}if(!t){return}function n(e,t){e.onclick=function i(e){var i=new DownloadManager;i.downloadData(t.content,getFileName(t.filename),"");return false}}var r=Object.keys(t).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});for(var a=0,s=r.length;a<s;a++){var o=t[r[a]];var l=document.createElement("div");l.className="attachmentsItem";var d=document.createElement("button");n(d,o);d.textContent=getFileName(o.filename);l.appendChild(d);i.appendChild(l)}};function webViewerLoad(e){PDFViewerApplication.initialize().then(webViewerInitialized)}function webViewerInitialized(){var e=document.location.search.substring(1);
var t=PDFViewerApplication.parseQueryString(e);var i="file"in t?t.file:DEFAULT_URL;var n=document.createElement("input");n.id="fileInput";n.className="fileInput";n.setAttribute("type","file");n.oncontextmenu=noContextMenuHandler;document.body.appendChild(n);if(!window.File||!window.FileReader||!window.FileList||!window.Blob){document.getElementById("openFile").setAttribute("hidden","true");document.getElementById("secondaryOpenFile").setAttribute("hidden","true")}else{document.getElementById("fileInput").value=null}var r=PDFJS.locale||navigator.language;if(PDFViewerApplication.preferencePdfBugEnabled){var a=document.location.hash.substring(1);var s=PDFViewerApplication.parseQueryString(a);if("disableworker"in s){PDFJS.disableWorker=s["disableworker"]==="true"}if("disablerange"in s){PDFJS.disableRange=s["disablerange"]==="true"}if("disablestream"in s){PDFJS.disableStream=s["disablestream"]==="true"}if("disableautofetch"in s){PDFJS.disableAutoFetch=s["disableautofetch"]==="true"}if("disablefontface"in s){PDFJS.disableFontFace=s["disablefontface"]==="true"}if("disablehistory"in s){PDFJS.disableHistory=s["disablehistory"]==="true"}if("webgl"in s){PDFJS.disableWebGL=s["webgl"]!=="true"}if("useonlycsszoom"in s){PDFJS.useOnlyCssZoom=s["useonlycsszoom"]==="true"}if("verbosity"in s){PDFJS.verbosity=s["verbosity"]|0}if("ignorecurrentpositiononzoom"in s){IGNORE_CURRENT_POSITION_ON_ZOOM=s["ignorecurrentpositiononzoom"]==="true"}if("locale"in s){r=s["locale"]}if("textlayer"in s){switch(s["textlayer"]){case"off":PDFJS.disableTextLayer=true;break;case"visible":case"shadow":case"hover":var o=document.getElementById("viewer");o.classList.add("textLayer-"+s["textlayer"]);break}}if("pdfbug"in s){PDFJS.pdfBug=true;var l=s["pdfbug"];var d=l.split(",");PDFBug.enable(d);PDFBug.init()}}mozL10n.setLanguage(r);if(!PDFViewerApplication.supportsPrinting){document.getElementById("print").classList.add("hidden");document.getElementById("secondaryPrint").classList.add("hidden")}if(!PDFViewerApplication.supportsFullscreen){document.getElementById("presentationMode").classList.add("hidden");document.getElementById("secondaryPresentationMode").classList.add("hidden")}if(PDFViewerApplication.supportsIntegratedFind){document.getElementById("viewFind").classList.add("hidden")}PDFJS.UnsupportedManager.listen(PDFViewerApplication.fallback.bind(PDFViewerApplication));document.getElementById("scaleSelect").oncontextmenu=noContextMenuHandler;var c=document.getElementById("mainContainer");var h=document.getElementById("outerContainer");c.addEventListener("transitionend",function(e){if(e.target===c){var t=document.createEvent("UIEvents");t.initUIEvent("resize",false,false,window,0);window.dispatchEvent(t);h.classList.remove("sidebarMoving")}},true);document.getElementById("sidebarToggle").addEventListener("click",function(){this.classList.toggle("toggled");h.classList.add("sidebarMoving");h.classList.toggle("sidebarOpen");PDFViewerApplication.sidebarOpen=h.classList.contains("sidebarOpen");PDFViewerApplication.forceRendering()});document.getElementById("viewThumbnail").addEventListener("click",function(){PDFViewerApplication.switchSidebarView("thumbs")});document.getElementById("viewOutline").addEventListener("click",function(){PDFViewerApplication.switchSidebarView("outline")});document.getElementById("viewAttachments").addEventListener("click",function(){PDFViewerApplication.switchSidebarView("attachments")});document.getElementById("previous").addEventListener("click",function(){PDFViewerApplication.page--});document.getElementById("next").addEventListener("click",function(){PDFViewerApplication.page++});document.getElementById("zoomIn").addEventListener("click",function(){PDFViewerApplication.zoomIn()});document.getElementById("zoomOut").addEventListener("click",function(){PDFViewerApplication.zoomOut()});document.getElementById("pageNumber").addEventListener("click",function(){this.select()});document.getElementById("pageNumber").addEventListener("change",function(){PDFViewerApplication.page=this.value|0;if(this.value!==(this.value|0).toString()){this.value=PDFViewerApplication.page}});document.getElementById("scaleSelect").addEventListener("change",function(){PDFViewerApplication.setScale(this.value,false)});document.getElementById("presentationMode").addEventListener("click",SecondaryToolbar.presentationModeClick.bind(SecondaryToolbar));document.getElementById("openFile").addEventListener("click",SecondaryToolbar.openFileClick.bind(SecondaryToolbar));document.getElementById("print").addEventListener("click",SecondaryToolbar.printClick.bind(SecondaryToolbar));document.getElementById("download").addEventListener("click",SecondaryToolbar.downloadClick.bind(SecondaryToolbar));if(i&&i.lastIndexOf("file:",0)===0){PDFViewerApplication.setTitleUsingUrl(i);var u=new XMLHttpRequest;u.onload=function(){PDFViewerApplication.open(new Uint8Array(u.response),0)};try{u.open("GET",i);u.responseType="arraybuffer";u.send()}catch(f){PDFViewerApplication.error(mozL10n.get("loading_error",null,"An error occurred while loading the PDF."),f)}return}if(i){PDFViewerApplication.open(i,0)}}document.addEventListener("DOMContentLoaded",webViewerLoad,true);document.addEventListener("pagerendered",function(e){var t=e.detail.pageNumber-1;var i=PDFViewerApplication.pdfViewer.getPageView(t);var n=PDFViewerApplication.pdfThumbnailViewer.getThumbnail(t);n.setImage(i.canvas);if(i.error){PDFViewerApplication.error(mozL10n.get("rendering_error",null,"An error occurred while rendering the page."),i.error)}if(t+1===PDFViewerApplication.page){var r=document.getElementById("pageNumber");r.classList.remove(PAGE_NUMBER_LOADING_INDICATOR)}},true);window.addEventListener("presentationmodechanged",function(e){var t=e.detail.active;var i=e.detail.switchInProgress;PDFViewerApplication.pdfViewer.presentationModeState=i?PresentationModeState.CHANGING:t?PresentationModeState.FULLSCREEN:PresentationModeState.NORMAL});function updateViewarea(){if(!PDFViewerApplication.initialized){return}PDFViewerApplication.pdfViewer.update()}window.addEventListener("updateviewarea",function(){if(!PDFViewerApplication.initialized){return}var e=PDFViewerApplication.pdfViewer.location;PDFViewerApplication.store.initializedPromise.then(function(){PDFViewerApplication.store.setMultiple({exists:true,page:e.pageNumber,zoom:e.scale,scrollLeft:e.left,scrollTop:e.top}).catch(function(){})});var t=PDFViewerApplication.getAnchorUrl(e.pdfOpenParams);document.getElementById("viewBookmark").href=t;document.getElementById("secondaryViewBookmark").href=t;PDFHistory.updateCurrentBookmark(e.pdfOpenParams,e.pageNumber);var i=document.getElementById("pageNumber");var n=PDFViewerApplication.pdfViewer.getPageView(PDFViewerApplication.page-1);if(n.renderingState===RenderingStates.FINISHED){i.classList.remove(PAGE_NUMBER_LOADING_INDICATOR)}else{i.classList.add(PAGE_NUMBER_LOADING_INDICATOR)}},true);window.addEventListener("resize",function di(e){if(PDFViewerApplication.initialized&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)){var t=document.getElementById("scaleSelect").value;PDFViewerApplication.setScale(t,false)}updateViewarea();SecondaryToolbar.setMaxHeight(document.getElementById("viewerContainer"))});window.addEventListener("hashchange",function ci(e){if(PDFHistory.isHashChangeUnlocked){PDFViewerApplication.setHash(document.location.hash.substring(1))}});window.addEventListener("change",function hi(e){var t=e.target.files;if(!t||t.length===0){return}var i=t[0];if(!PDFJS.disableCreateObjectURL&&typeof URL!=="undefined"&&URL.createObjectURL){PDFViewerApplication.open(URL.createObjectURL(i),0)}else{var n=new FileReader;n.onload=function r(e){var t=e.target.result;var i=new Uint8Array(t);PDFViewerApplication.open(i,0)};n.readAsArrayBuffer(i)}PDFViewerApplication.setTitleUsingUrl(i.name);document.getElementById("viewBookmark").setAttribute("hidden","true");document.getElementById("secondaryViewBookmark").setAttribute("hidden","true");document.getElementById("download").setAttribute("hidden","true");document.getElementById("secondaryDownload").setAttribute("hidden","true")},true);function selectScaleOption(e){var t=document.getElementById("scaleSelect").options;var i=false;for(var n=0;n<t.length;n++){var r=t[n];if(r.value!==e){r.selected=false;continue}r.selected=true;i=true}return i}window.addEventListener("localized",function ui(e){document.getElementsByTagName("html")[0].dir=mozL10n.getDirection();PDFViewerApplication.animationStartedPromise.then(function(){var e=document.getElementById("scaleSelectContainer");if(e.clientWidth===0){e.setAttribute("style","display: inherit;")}if(e.clientWidth>0){var t=document.getElementById("scaleSelect");t.setAttribute("style","min-width: inherit;");var i=t.clientWidth+SCALE_SELECT_CONTAINER_PADDING;t.setAttribute("style","min-width: "+(i+SCALE_SELECT_PADDING)+"px;");e.setAttribute("style","min-width: "+i+"px; "+"max-width: "+i+"px;")}SecondaryToolbar.setMaxHeight(document.getElementById("viewerContainer"))})},true);window.addEventListener("scalechange",function fi(e){document.getElementById("zoomOut").disabled=e.scale===MIN_SCALE;document.getElementById("zoomIn").disabled=e.scale===MAX_SCALE;var t=document.getElementById("customScaleOption");t.selected=false;if(!PDFViewerApplication.updateScaleControls&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)){updateViewarea();return}if(e.presetValue){selectScaleOption(e.presetValue);updateViewarea();return}var i=selectScaleOption(""+e.scale);if(!i){var n=Math.round(e.scale*1e4)/100;t.textContent=mozL10n.get("page_scale_percent",{scale:n},"{{scale}}%");t.selected=true}updateViewarea()},true);window.addEventListener("pagechange",function gi(e){var t=e.pageNumber;if(e.previousPageNumber!==t){document.getElementById("pageNumber").value=t;PDFViewerApplication.pdfThumbnailViewer.scrollThumbnailIntoView(t)}var i=PDFViewerApplication.pagesCount;document.getElementById("previous").disabled=t<=1;document.getElementById("next").disabled=t>=i;document.getElementById("firstPage").disabled=t<=1;document.getElementById("lastPage").disabled=t>=i;if(e.updateInProgress){return}if(this.loading&&t===1){return}PDFViewerApplication.pdfViewer.scrollPageIntoView(t)},true);function handleMouseWheel(e){var t=40;var i=e.type==="DOMMouseScroll"?-e.detail:e.wheelDelta/t;var n=i<0?"zoomOut":"zoomIn";if(PresentationMode.active){e.preventDefault();PDFViewerApplication.mouseScroll(i*t)}else if(e.ctrlKey){e.preventDefault();PDFViewerApplication[n](Math.abs(i))}}window.addEventListener("DOMMouseScroll",handleMouseWheel);window.addEventListener("mousewheel",handleMouseWheel);window.addEventListener("click",function pi(e){if(!PresentationMode.active){if(SecondaryToolbar.opened&&PDFViewerApplication.pdfViewer.containsElement(e.target)){SecondaryToolbar.close()}}else if(e.button===0){e.preventDefault()}},false);window.addEventListener("keydown",function mi(e){if(OverlayManager.active){return}var t=false;var i=(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0);if(i===1||i===8||i===5||i===12){var n=PDFViewerApplication.pdfViewer;var r=n&&(n.presentationModeState===PresentationModeState.CHANGING||n.presentationModeState===PresentationModeState.FULLSCREEN);switch(e.keyCode){case 70:if(!PDFViewerApplication.supportsIntegratedFind){PDFViewerApplication.findBar.open();t=true}break;case 71:if(!PDFViewerApplication.supportsIntegratedFind){PDFViewerApplication.findBar.dispatchEvent("again",i===5||i===12);t=true}break;case 61:case 107:case 187:case 171:if(!r){PDFViewerApplication.zoomIn()}t=true;break;case 173:case 109:case 189:if(!r){PDFViewerApplication.zoomOut()}t=true;break;case 48:case 96:if(!r){setTimeout(function(){PDFViewerApplication.setScale(DEFAULT_SCALE,true)});t=false}break}}if(i===1||i===8){switch(e.keyCode){case 83:PDFViewerApplication.download();t=true;break}}if(i===3||i===10){switch(e.keyCode){case 80:SecondaryToolbar.presentationModeClick();t=true;break;case 71:document.getElementById("pageNumber").select();t=true;break}}if(t){e.preventDefault();return}var a=document.activeElement||document.querySelector(":focus");var s=a&&a.tagName.toUpperCase();if(s==="INPUT"||s==="TEXTAREA"||s==="SELECT"){if(e.keyCode!==27){return}}if(i===0){switch(e.keyCode){case 38:case 33:case 8:if(!PresentationMode.active&&PDFViewerApplication.currentScaleValue!=="page-fit"){break}case 37:if(PDFViewerApplication.pdfViewer.isHorizontalScrollbarEnabled){break}case 75:case 80:PDFViewerApplication.page--;t=true;break;case 27:if(SecondaryToolbar.opened){SecondaryToolbar.close();t=true}if(!PDFViewerApplication.supportsIntegratedFind&&PDFViewerApplication.findBar.opened){PDFViewerApplication.findBar.close();t=true}break;case 40:case 34:case 32:if(!PresentationMode.active&&PDFViewerApplication.currentScaleValue!=="page-fit"){break}case 39:if(PDFViewerApplication.pdfViewer.isHorizontalScrollbarEnabled){break}case 74:case 78:PDFViewerApplication.page++;t=true;break;case 36:if(PresentationMode.active||PDFViewerApplication.page>1){PDFViewerApplication.page=1;t=true}break;case 35:if(PresentationMode.active||PDFViewerApplication.pdfDocument&&PDFViewerApplication.page<PDFViewerApplication.pagesCount){PDFViewerApplication.page=PDFViewerApplication.pagesCount;t=true}break;case 72:if(!PresentationMode.active){HandTool.toggle()}break;case 82:PDFViewerApplication.rotatePages(90);break}}if(i===4){switch(e.keyCode){case 32:if(!PresentationMode.active&&PDFViewerApplication.currentScaleValue!=="page-fit"){break}PDFViewerApplication.page--;t=true;break;case 82:PDFViewerApplication.rotatePages(-90);break}}if(!t&&!PresentationMode.active){if(e.keyCode>=33&&e.keyCode<=40&&!PDFViewerApplication.pdfViewer.containsElement(a)){PDFViewerApplication.pdfViewer.focus()}if(e.keyCode===32&&s!=="BUTTON"){if(!PDFViewerApplication.pdfViewer.containsElement(a)){PDFViewerApplication.pdfViewer.focus()}}}if(i===2){switch(e.keyCode){case 37:if(PresentationMode.active){PDFHistory.back();t=true}break;case 39:if(PresentationMode.active){PDFHistory.forward();t=true}break}}if(t){e.preventDefault();PDFViewerApplication.clearMouseScrollState()}});window.addEventListener("beforeprint",function vi(e){PDFViewerApplication.beforePrint()});window.addEventListener("afterprint",function wi(e){PDFViewerApplication.afterPrint()});(function Pi(){PDFViewerApplication.animationStartedPromise=new Promise(function(e){window.requestAnimationFrame(e)})})();